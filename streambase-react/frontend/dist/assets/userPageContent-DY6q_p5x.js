import{u as w,a as u,r as a,f as A,b as I,c as T,d as k,e as B,g as D,j as i,B as r,C,M as F,F as U}from"./index-Dy--egVi.js";const V=[{id:28,name:"Action Packed"},{id:12,name:"Ready for Adventure?"},{id:53,name:"Spine Thrillers"},{id:35,name:"Comedy - Laugh Out Loud"},{id:16,name:"Kids corner"},{id:9648,name:"Unravelling Mystery"},{id:18,name:"Drama Hits"},{id:10751,name:"Family Favourites"},{id:10752,name:"At War"},{id:80,name:"Crime Busters"},{id:14,name:"Fantasy Adventures"},{id:27,name:"Horror Films"},{id:878,name:"Science Fiction"},{id:10749,name:"Romantic Movies"},{id:99,name:"Documentaries"}],P=()=>{const d=w(),{trendingMovies:n,trendingTV:p,upcoming:f,similarMovies:x,genreMovies:y,status:g}=u(e=>e.movies),c=u(e=>e.usersData.currentUserData),s=u(e=>e.movies.loading),h={title:"Iron Man",id:1726},M=JSON.parse(localStorage.getItem("user")),[o,b]=a.useState(0),[m,L]=a.useState(0),l=[{id:"trendingMovies",name:"Trending Movies",fetchAction:A,isLoading:s.trendingMovies,movies:n},{id:"trendingTV",name:"Trending TV",fetchAction:I,isLoading:s.trendingTV,movies:p},{id:"upcoming",name:"Upcoming Movies",fetchAction:T,isLoading:s.upcoming,movies:f},{id:"similarMovies",name:`Because you watched ${h.title}`,fetchAction:()=>k(h.id),isLoading:s.similarMovies,movies:x},...V.map(e=>({id:`genre${e.id}`,name:e.name,fetchAction:()=>B(e.id),isLoading:s.genreMovies[e.id],movies:y[e.id]}))];a.useEffect(()=>{const e=setInterval(()=>{L(t=>t===19?0:t+1)},1e4);return()=>clearInterval(e)},[]),a.useEffect(()=>{g==="idle"&&S(o)},[d,g,o]);const S=async e=>{const t=l[e];t&&!t.isLoading&&(await d(t.fetchAction()),b(j=>j+1))};return a.useEffect(()=>{d(D(M.email))},[]),i.jsx("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:i.jsx("div",{style:{flex:1},children:o<l.length?i.jsx(r,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"90%",minWidth:"900px"},children:i.jsx(C,{size:200})}):n&&n.length>0&&i.jsxs(r,{sx:{position:"relative",width:"100%",height:"80%",backgroundImage:`url(https://image.tmdb.org/t/p/original/${n[m].backdrop_path?n[m].backdrop_path:n[m+1].backdrop_path})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 3s ease-in-out"},children:[i.jsx(r,{sx:v.overlayBox}),i.jsxs(r,{sx:v.contentBox,children:[l.map((e,t)=>t<o?i.jsx("div",{children:i.jsx(F,{movies:e.movies,rowName:e.name,autoPlaytime:0,isNavigation:!0,playSpeed:0,loop:!1,isGuest:!1,iconVisible:!0,favorites:c.favorites,watchList:c.watchList,watchedList:c.watchedList})},e.id):!0),i.jsx(U,{})]})]})})})},v={overlayBox:{position:"absolute",bottom:0,width:"100%",height:"20%",background:"linear-gradient(to top, rgba(0, 0, 0, 0.7) 60%, rgba(0, 0, 0, 0))"},contentBox:{position:"absolute",top:"80%",width:"100%",padding:"20px",zIndex:1}};export{P as default};
