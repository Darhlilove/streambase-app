<div class="delete-account-dialog">
  <h2 mat-dialog-title>Delete Your Account</h2>
  
  <mat-dialog-content>
    <p class="warning-text">
      Are you sure you want to delete your account? This action cannot be undone.
      All your data, including favorites, watchlist, and history will be permanently removed.
    </p>
    
    <form [formGroup]="deleteForm">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Enter your password to confirm</mat-label>
        <input 
          matInput 
          type="password" 
          formControlName="password"
          placeholder="Password"
          autocomplete="current-password"
        >
        @if (deleteForm.get('password')?.invalid && deleteForm.get('password')?.touched) {
          <mat-error>Password is required</mat-error>
        }
      </mat-form-field>
    </form>
    
    @if (errorMessage) {
      <div class="error-message">{{ errorMessage }}</div>
    }
  </mat-dialog-content>
  
  <mat-dialog-actions align="end">
    <app-custom-button
      text="Cancel"
      variant="secondary"
      (buttonClick)="onCancel()"
    ></app-custom-button>
    
    <app-custom-button
      text="Delete Account"
      variant="danger"
      [disabled]="deleteForm.invalid || isDeleting"
      (buttonClick)="onConfirm()"
    ></app-custom-button>
  </mat-dialog-actions>
</div>

