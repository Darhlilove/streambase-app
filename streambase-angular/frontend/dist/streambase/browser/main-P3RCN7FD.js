import{a as qo,b as Go,c as Wo,d as Qo,e as $o,f as hi,g as Ko,h as un,i as Xo}from"./chunk-SEKZDLHL.js";import{a as Zo}from"./chunk-RVIWRGZK.js";import{a as Ot}from"./chunk-CGXLVHJX.js";import{a as Io,c as rn,e as To,f as Eo,g as Ao,h as Fo}from"./chunk-IKQRC3XM.js";import{a as ro,b as ii,c as so,d as K,e as co,f as lo,g as mo,h as po,i as uo,j as H,k as li,l as Dt,m as Ho,n as St,o as Me,p as Uo}from"./chunk-7FPOL3XV.js";import{A as pn,B as Qe,C as he,D as hn,E as ci,a as ri,b as _e,c as sn,d as N,e as ta,f as ge,g as ct,h as Ro,i as cn,j as ln,k as lt,l as dn,m as Ge,n as dt,o as Vo,p as Lo,q as Bo,r as mn,s as mt,t as si,u as De,v as No,w as We,x as pt,y as jo,z as ia}from"./chunk-Y5HT4N7P.js";import{e as fo,f as bo,g as Xn,h as ni,j as Ri,m as yo,n as Ve,q as ai,r as Qt,s as zo,t as $t,u as Se,v as di,w as mi,x as Yo,y as pi}from"./chunk-IMHAIZ3T.js";import{$ as Wt,A as Zn,B as Fi,E as vo,F as Gt,G as Co,H as tt,I as Mo,O as nn,R as xo,S as ko,T as wo,V as Vi,W as an,X as Po,Y as U,Z as on,_ as Le,aa as Oo,b as to,ba as Li,c as io,ca as st,d as no,da as oi,e as ao,ea as Do,g as oo,h as ho,ha as Bi,j as qt,ka as Jn,ma as So,n as $n,na as ce,o as _o,oa as ye,p as Fe,q as Kn,r as rt,v as go,y as Re}from"./chunk-VFXDPC4I.js";import{$ as Zt,A as Qi,Aa as Ze,Ab as I,B as Si,Bb as Pe,C as Va,Ca as D,Cc as T,Da as me,Db as v,Dc as Yt,E as He,Eb as kt,Ec as $,F as Te,Fa as Ee,Fb as Z,Ga as Y,Gb as J,Gc as Xa,H as $i,Ha as Ai,Hb as r,Ib as s,J as Xt,Jb as y,Kb as Ji,L as Ii,Lb as en,Ma as gt,Mb as Nt,Mc as Ae,N as Gn,Nb as k,O as Ki,Ob as jt,P as La,Pb as Wa,Qb as g,Rb as Qa,Sb as m,Tb as de,Tc as wt,Ub as re,Uc as Za,Vc as Pt,W as Ba,Wb as fe,Wc as Ja,X as Ue,Xb as z,Xc as ti,Y as _t,Yb as A,Yc as se,Z as Ce,Za as Bt,Zb as F,_a as Ua,a as Mt,aa as Na,ac as W,ad as eo,b as Gi,ba as Ye,bc as d,ca as nt,cb as l,cc as O,da as ne,db as u,dc as L,e as le,eb as Zi,ec as $a,ed as be,fa as G,fb as Je,fc as zt,fd as q,g as Fa,gb as Ya,gc as Ht,ha as Ti,hb as Wn,hc as Ut,hd as V,ia as C,ib as qa,ic as pe,id as Oe,j as ee,ja,jc as w,jd as ea,ka as za,kb as ft,kc as vt,kd as X,lb as Ga,lc as et,m as qn,ma as x,mc as tn,n as Wi,na as ae,nb as S,oa as te,oc as Jt,pa as Ha,pb as at,pc as ei,q as ve,qc as Qn,rb as oe,ta as we,u as Di,ua as f,ub as _,va as b,w as Ra,wa as qe,wb as bt,xa as Ei,xb as E,xc as Ka,ya as Xi,yb as h,za as xt,zb as ot,zc as Q}from"./chunk-EDYQIVRR.js";var ui=n=>{let a=C(H),e=C(K);if(a.isLoggedIn())return!0;let t=n.url;return e.navigate(["/sign-in"],{queryParams:{return:t}}),!1};var Jo=n=>{let a=C(H),e=C(K);if(a.isAdminLoggedIn()||a.isLoggedIn())return!0;let t=n.url;return a.isAdminLoggedIn()&&e.navigate(["/admin-sign-in"],{queryParams:{return:t}}),a.isLoggedIn()&&e.navigate(["/sign-in"],{queryParams:{return:t}}),!1};var _n=n=>{let a=C(H),e=C(K);if(a.isAdminLoggedIn())return!0;let t=n.url;return e.navigate(["/admin-sign-in"],{queryParams:{return:t}}),!1};var Ni=()=>{let n=C(H),a=C(K);return n.isAdminLoggedIn()?(a.navigate(["/admin-dashboard"]),!1):n.isLoggedIn()?(a.navigate(["/home"]),!1):!0};var er=rt({passive:!0}),tr=(()=>{class n{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Wi;let t=$n(e),i=this._monitoredElements.get(t);if(i)return i.subject;let o=new ee,c="cdk-text-field-autofilled",p=P=>{P.animationName==="cdk-text-field-autofill-start"&&!t.classList.contains(c)?(t.classList.add(c),this._ngZone.run(()=>o.next({target:P.target,isAutofilled:!0}))):P.animationName==="cdk-text-field-autofill-end"&&t.classList.contains(c)&&(t.classList.remove(c),this._ngZone.run(()=>o.next({target:P.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",p,er),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:o,unlisten:()=>{t.removeEventListener("animationstart",p,er)}}),o}stopMonitoring(e){let t=$n(e),i=this._monitoredElements.get(t);i&&(i.unlisten(),i.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}static{this.\u0275fac=function(t){return new(t||n)(Ti(Fe),Ti(me))}}static{this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ir=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({})}}return n})();var oa=new G("MAT_INPUT_VALUE_ACCESSOR"),ps=["button","checkbox","file","hidden","image","radio","range","reset","submit"],hs=0,$e=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=qt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(N.required)??!1}set required(e){this._required=qt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Kn().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=qt(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,i,o,c,p,P,M,B,ie){this._elementRef=e,this._platform=t,this.ngControl=i,this._autofillMonitor=M,this._ngZone=B,this._formField=ie,this._uid=`mat-input-${hs++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new ee,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ze=>Kn().has(ze)),this._iOSKeyupListener=ze=>{let ut=ze.target;!ut.value&&ut.selectionStart===0&&ut.selectionEnd===0&&(ut.setSelectionRange(1,1),ut.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let R=this._elementRef.nativeElement,je=R.nodeName.toLowerCase();this._inputValueAccessor=P||R,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&B.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new on(p,i,c,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=je==="select",this._isTextarea=je==="textarea",this._isInFormField=!!ie,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let t=this._elementRef.nativeElement;this._previousPlaceholder=e,e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ps.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Fe),u(ta,10),u(Ro,8),u(Ge,8),u(Li),u(oa,10),u(tr),u(me),u(pn,8))}}static{this.\u0275dir=te({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){t&1&&g("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),t&2&&(jt("id",i.id)("disabled",i.disabled)("required",i.required),E("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),I("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[pe([{provide:ia,useExisting:n}]),we]})}}return n})(),xe=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({imports:[U,he,he,ir,U]})}}return n})();var _s=["mat-calendar-body",""];function gs(n,a){return this._trackRow(a)}var dr=(n,a)=>a.id;function fs(n,a){if(n&1&&(r(0,"tr",0)(1,"td",3),d(2),s()()),n&2){let e=m();l(),ot("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),E("colspan",e.numCols),l(),L(" ",e.label," ")}}function bs(n,a){if(n&1&&(r(0,"td",3),d(1),s()),n&2){let e=m(2);ot("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),E("colspan",e._firstRowOffset),l(),L(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function vs(n,a){if(n&1){let e=k();r(0,"td",6)(1,"button",7),g("click",function(i){let o=f(e).$implicit,c=m(2);return b(c._cellClicked(o,i))})("focus",function(i){let o=f(e).$implicit,c=m(2);return b(c._emitActiveDateChange(o,i))}),r(2,"span",8),d(3),s(),y(4,"span",9),s()()}if(n&2){let e=a.$implicit,t=a.$index,i=m().$index,o=m();ot("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),E("data-mat-row",i)("data-mat-col",t),l(),I("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(i,t))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),h("ngClass",e.cssClasses)("tabindex",o._isActiveCell(i,t)?0:-1),E("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),l(),I("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),l(),L(" ",e.displayValue," ")}}function Cs(n,a){if(n&1&&(r(0,"tr",1),_(1,bs,2,6,"td",4),Z(2,vs,5,48,"td",5,dr),s()),n&2){let e=a.$implicit,t=a.$index,i=m();l(),v(t===0&&i._firstRowOffset?1:-1),l(),J(e)}}function ys(n,a){if(n&1&&(r(0,"th",2)(1,"span",6),d(2),s(),r(3,"span",3),d(4),s()()),n&2){let e=a.$implicit;l(2),O(e.long),l(2),O(e.narrow)}}var Ms=["*"];function xs(n,a){}function ks(n,a){if(n&1){let e=k();r(0,"mat-month-view",4),Ut("activeDateChange",function(i){f(e);let o=m();return Ht(o.activeDate,i)||(o.activeDate=i),b(i)}),g("_userSelection",function(i){f(e);let o=m();return b(o._dateSelected(i))})("dragStarted",function(i){f(e);let o=m();return b(o._dragStarted(i))})("dragEnded",function(i){f(e);let o=m();return b(o._dragEnded(i))}),s()}if(n&2){let e=m();zt("activeDate",e.activeDate),h("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function ws(n,a){if(n&1){let e=k();r(0,"mat-year-view",5),Ut("activeDateChange",function(i){f(e);let o=m();return Ht(o.activeDate,i)||(o.activeDate=i),b(i)}),g("monthSelected",function(i){f(e);let o=m();return b(o._monthSelectedInYearView(i))})("selectedChange",function(i){f(e);let o=m();return b(o._goToDateInView(i,"month"))}),s()}if(n&2){let e=m();zt("activeDate",e.activeDate),h("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Ps(n,a){if(n&1){let e=k();r(0,"mat-multi-year-view",6),Ut("activeDateChange",function(i){f(e);let o=m();return Ht(o.activeDate,i)||(o.activeDate=i),b(i)}),g("yearSelected",function(i){f(e);let o=m();return b(o._yearSelectedInMultiYearView(i))})("selectedChange",function(i){f(e);let o=m();return b(o._goToDateInView(i,"year"))}),s()}if(n&2){let e=m();zt("activeDate",e.activeDate),h("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Os(n,a){}var Ds=["button"],Ss=[[["","matDatepickerToggleIcon",""]]],Is=["[matDatepickerToggleIcon]"];function Ts(n,a){n&1&&(qe(),r(0,"svg",2),y(1,"path",3),s())}var Ui=(()=>{class n{constructor(){this.changes=new ee,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Es=0,zi=class{constructor(a,e,t,i,o={},c=a,p){this.value=a,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=o,this.compareValue=c,this.rawValue=p,this.id=Es++}},As=1,nr=rt({passive:!1,capture:!0}),It=rt({passive:!0,capture:!0}),gn=rt({passive:!0}),fi=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,t){this._elementRef=e,this._ngZone=t,this._platform=C(Fe),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new D,this.previewChange=new D,this.activeDateChange=new D,this.dragStarted=new D,this.dragEnded=new D,this._didDragSinceMouseDown=!1,this._injector=C(Ze),this._trackRow=i=>i,this._enterHandler=i=>{if(this._skipNextFocus&&i.type==="focus"){this._skipNextFocus=!1;return}if(i.target&&this.isRange){let o=this._getCellFromElement(i.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:i}))}},this._touchmoveHandler=i=>{if(!this.isRange)return;let o=ar(i),c=o?this._getCellFromElement(o):null;o!==i.target&&(this._didDragSinceMouseDown=!0),sa(i.target)&&i.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:c?.enabled?c:null,event:i}))},this._leaveHandler=i=>{this.previewEnd!==null&&this.isRange&&(i.type!=="blur"&&(this._didDragSinceMouseDown=!0),i.target&&this._getCellFromElement(i.target)&&!(i.relatedTarget&&this._getCellFromElement(i.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i})))},this._mousedownHandler=i=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=i.target&&this._getCellFromElement(i.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:i})})},this._mouseupHandler=i=>{if(!this.isRange)return;let o=sa(i.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:i})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let c=this._getCellFromElement(o);this.dragEnded.emit({value:c?.rawValue??null,event:i})})},this._touchendHandler=i=>{let o=ar(i);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${As++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,t.runOutsideAngular(()=>{let i=e.nativeElement;i.addEventListener("touchmove",this._touchmoveHandler,nr),i.addEventListener("mouseenter",this._enterHandler,It),i.addEventListener("focus",this._enterHandler,It),i.addEventListener("mouseleave",this._leaveHandler,It),i.addEventListener("blur",this._leaveHandler,It),i.addEventListener("mousedown",this._mousedownHandler,gn),i.addEventListener("touchstart",this._mousedownHandler,gn),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:o}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?o-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,nr),e.removeEventListener("mouseenter",this._enterHandler,It),e.removeEventListener("focus",this._enterHandler,It),e.removeEventListener("mouseleave",this._leaveHandler,It),e.removeEventListener("blur",this._leaveHandler,It),e.removeEventListener("mousedown",this._mousedownHandler,gn),e.removeEventListener("touchstart",this._mousedownHandler,gn),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){bt(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ca(e,this.startValue,this.endValue)}_isRangeEnd(e){return la(e,this.startValue,this.endValue)}_isInRange(e){return da(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ca(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[t][i-1];if(!o){let c=this.rows[t-1];o=c&&c[c.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[t][i+1];if(!o){let c=this.rows[t+1];o=c&&c[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return la(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return da(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ca(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return la(e,this.previewStart,this.previewEnd)}_isInPreview(e){return da(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let t=sa(e);if(t){let i=t.getAttribute("data-mat-row"),o=t.getAttribute("data-mat-col");if(i&&o)return this.rows[parseInt(i)][parseInt(o)]}return null}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(me))}}static{this.\u0275cmp=x({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[we,w],attrs:_s,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(_(0,fs,3,6,"tr",0),Z(1,Cs,4,1,"tr",1,gs,!0),r(3,"span",2),d(4),s(),r(5,"span",2),d(6),s()),t&2&&(v(i._firstRowOffset<i.labelMinRequiredCells?0:-1),l(),J(i.rows),l(2),h("id",i._startDateLabelId),l(),L(" ",i.startDateAccessibleName,`
`),l(),h("id",i._endDateLabelId),l(),L(" ",i.endDateAccessibleName,`
`))},dependencies:[wt],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return n})();function ra(n){return n?.nodeName==="TD"}function sa(n){let a;return ra(n)?a=n:ra(n.parentNode)?a=n.parentNode:ra(n.parentNode?.parentNode)&&(a=n.parentNode.parentNode),a?.getAttribute("data-mat-row")!=null?a:null}function ca(n,a,e){return e!==null&&a!==e&&n<e&&n===a}function la(n,a,e){return a!==null&&a!==e&&n>=a&&n===e}function da(n,a,e,t){return t&&a!==null&&e!==null&&a!==e&&n>=a&&n<=e}function ar(n){let a=n.changedTouches[0];return document.elementFromPoint(a.clientX,a.clientY)}var Ke=class{constructor(a,e){this.start=a,this.end=e}},Hi=(()=>{class n{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new ee,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(t){Zi()}}static{this.\u0275prov=nt({token:n,factory:n.\u0275fac})}}return n})(),Fs=(()=>{class n extends Hi{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(t){return new(t||n)(Ti(Le))}}static{this.\u0275prov=nt({token:n,factory:n.\u0275fac})}}return n})();function Rs(n,a){return n||new Fs(a)}var mr={provide:Hi,deps:[[new ja,new za,Hi],Le],useFactory:Rs};var pr=new G("MAT_DATE_RANGE_SELECTION_STRATEGY");var ma=7,Vs=0,or=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ke?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,i,o,c){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=o,this._rangeStrategy=c,this._rerenderSubscription=le.EMPTY,this.activeDrag=null,this.selectedChange=new D,this._userSelection=new D,this.dragStarted=new D,this.dragEnded=new D,this.activeDateChange=new D,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ue(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),o,c;this._selected instanceof Ke?(o=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):o=c=this._getDateInCurrentMonth(this._selected),(o!==t||c!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!tt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(ma+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%ma,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,o=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&i){let c=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);c&&(this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((c,p)=>({long:c,narrow:t[p],id:Vs++}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,o=this._firstWeekOffset;i<e;i++,o++){o==ma&&(this._weeks.push([]),o=0);let c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),p=this._shouldEnableDate(c),P=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),M=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new zi(i+1,t[i],P,p,M,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(t,i,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Ke?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(t){return new(t||n)(u(Q),u(Wt,8),u(Le,8),u(Re,8),u(pr,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&z(fi,5),t&2){let o;A(o=F())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[we,w],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(r(0,"table",0)(1,"thead",1)(2,"tr"),Z(3,ys,5,2,"th",2,dr),s(),r(5,"tr",3),y(6,"th",4),s()(),r(7,"tbody",5),g("selectedValueChange",function(c){return i._dateSelected(c)})("activeDateChange",function(c){return i._updateActiveDate(c)})("previewChange",function(c){return i._previewChanged(c)})("dragStarted",function(c){return i.dragStarted.emit(c)})("dragEnded",function(c){return i._dragEnded(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),s()()),t&2&&(l(3),J(i._weekdays),l(4),h("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[fi],encapsulation:2,changeDetection:0})}}return n})(),Be=24,pa=4,rr=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),hr(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ke?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,i){this._changeDetectorRef=e,this._dateAdapter=t,this._dir=i,this._rerenderSubscription=le.EMPTY,this.selectedChange=new D,this.yearSelected=new D,this.activeDateChange=new D,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ue(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,o=[];i<Be;i++)o.push(t+i),o.length==pa&&(this._years.push(o.map(c=>this._createCellForYear(c))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),o=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(o)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-pa);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,pa);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Be-ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Be*10:-Be);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Be*10:Be);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),o=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new zi(e,i,i,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ke){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(t){return new(t||n)(u(Q),u(Le,8),u(Re,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&z(fi,5),t&2){let o;A(o=F())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[w],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(r(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),s()(),r(4,"tbody",3),g("selectedValueChange",function(c){return i._yearSelected(c)})("activeDateChange",function(c){return i._updateActiveDate(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),s()()),t&2&&(l(4),h("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[fi],encapsulation:2,changeDetection:0})}}return n})();function hr(n,a,e,t,i){let o=n.getYear(a),c=n.getYear(e),p=ur(n,t,i);return Math.floor((o-p)/Be)===Math.floor((c-p)/Be)}function ji(n,a,e,t){let i=n.getYear(a);return Ls(i-ur(n,e,t),Be)}function ur(n,a,e){let t=0;return e?t=n.getYear(e)-Be+1:a&&(t=n.getYear(a)),t}function Ls(n,a){return(n%a+a)%a}var sr=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof Ke?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,i,o){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=le.EMPTY,this.selectedChange=new D,this.monthSelected=new D,this.activeDateChange=new D,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ue(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let o=this._getDateFromMonth(t);this.selectedChange.emit(o)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(i,"year"):void 0;return new zi(e,t.toLocaleUpperCase(),o,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let o=i;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>o}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Ke?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(t){return new(t||n)(u(Q),u(Wt,8),u(Le,8),u(Re,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&z(fi,5),t&2){let o;A(o=F())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[w],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(r(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),s()(),r(4,"tbody",3),g("selectedValueChange",function(c){return i._monthSelected(c)})("activeDateChange",function(c){return i._updateActiveDate(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),s()()),t&2&&(l(4),h("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[fi],encapsulation:2,changeDetection:0})}}return n})(),Bs=1,_r=(()=>{class n{constructor(e,t,i,o,c){this._intl=e,this.calendar=t,this._dateAdapter=i,this._dateFormats=o,this._id=`mat-calendar-header-${Bs++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Be)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Be)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):hr(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-ji(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+Be-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[o,c]}static{this.\u0275fac=function(t){return new(t||n)(u(Ui),u(Ye(()=>ha)),u(Le,8),u(Wt,8),u(Q))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[w],ngContentSelectors:Ms,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,i){t&1&&(de(),r(0,"div",0)(1,"div",1)(2,"span",2),d(3),s(),r(4,"button",3),g("click",function(){return i.currentPeriodClicked()}),r(5,"span",4),d(6),s(),qe(),r(7,"svg",5),y(8,"polygon",6),s()(),Ei(),y(9,"div",7),re(10),r(11,"button",8),g("click",function(){return i.previousClicked()}),qe(),r(12,"svg",9),y(13,"path",10),s()(),Ei(),r(14,"button",11),g("click",function(){return i.nextClicked()}),qe(),r(15,"svg",9),y(16,"path",12),s()()()()),t&2&&(l(2),h("id",i._periodButtonLabelId),l(),O(i.periodButtonDescription),l(),E("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),l(2),O(i.periodButtonText),l(),I("mat-calendar-invert",i.calendar.currentView!=="month"),l(4),h("disabled",!i.previousEnabled()),E("aria-label",i.prevButtonLabel),l(3),h("disabled",!i.nextEnabled()),E("aria-label",i.nextButtonLabel))},dependencies:[Qt,$t],encapsulation:2,changeDetection:0})}}return n})(),ha=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof Ke?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}constructor(e,t,i,o){this._dateAdapter=t,this._dateFormats=i,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new D,this.yearSelected=new D,this.monthSelected=new D,this.viewChanged=new D(!0),this._userSelection=new D,this._userDragDrop=new D,this._activeDrag=null,this.stateChanges=new ee,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Zn(this.headerComponent||_r),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=t||i||e.dateFilter;if(o&&!o.firstChange){let c=this._getCurrentViewComponent();c&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof Ke||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(t){return new(t||n)(u(Ui),u(Le,8),u(Wt,8),u(Q))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&(z(or,5),z(sr,5),z(rr,5)),t&2){let o;A(o=F())&&(i.monthView=o.first),A(o=F())&&(i.yearView=o.first),A(o=F())&&(i.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[pe([mr]),we,w],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(_(0,xs,0,0,"ng-template",0),r(1,"div",1),_(2,ks,1,11,"mat-month-view",2)(3,ws,1,6,"mat-year-view",3)(4,Ps,1,6,"mat-multi-year-view",3),s()),t&2){let o;h("cdkPortalOutlet",i._calendarHeaderPortal),l(2),v((o=i.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[Gt,an,or,sr,rr],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),cr={transformPanel:be("transformPanel",[X("void => enter-dropdown",q("120ms cubic-bezier(0, 0, 0.2, 1)",ea([V({opacity:0,transform:"scale(1, 0.8)"}),V({opacity:1,transform:"scale(1, 1)"})]))),X("void => enter-dialog",q("150ms cubic-bezier(0, 0, 0.2, 1)",ea([V({opacity:0,transform:"scale(0.7)"}),V({transform:"none",opacity:1})]))),X("* => void",q("100ms linear",V({opacity:0})))]),fadeInCalendar:be("fadeInCalendar",[Oe("void",V({opacity:0})),Oe("enter",V({opacity:1})),X("void => *",q("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Ns=0,gr=new G("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Ve);return()=>n.scrollStrategies.reposition()}});function js(n){return()=>n.scrollStrategies.reposition()}var zs={provide:gr,deps:[Ve],useFactory:js},fr=(()=>{class n{constructor(e,t,i,o,c,p){this._elementRef=e,this._changeDetectorRef=t,this._globalModel=i,this._dateAdapter=o,this._rangeSelectionStrategy=c,this._subscriptions=new le,this._animationDone=new ee,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=p.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,o=t instanceof Ke;if(o&&this._rangeSelectionStrategy){let c=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(c,this)}else i&&(o||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Q),u(Hi),u(Le),u(pr,8),u(Ui))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&z(ha,5),t&2){let o;A(o=F())&&(i._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(t,i){t&1&&Qa("@transformPanel.start",function(c){return i._handleAnimationEvent(c)})("@transformPanel.done",function(c){return i._handleAnimationEvent(c)}),t&2&&(Wa("@transformPanel",i._animationState),Pe(i.color?"mat-"+i.color:""),I("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[w],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){if(t&1&&(r(0,"div",0)(1,"mat-calendar",1),g("yearSelected",function(c){return i.datepicker._selectYear(c)})("monthSelected",function(c){return i.datepicker._selectMonth(c)})("viewChanged",function(c){return i.datepicker._viewChanged(c)})("_userSelection",function(c){return i._handleUserSelection(c)})("_userDragDrop",function(c){return i._handleUserDragDrop(c)}),s(),_(2,Os,0,0,"ng-template",2),r(3,"button",3),g("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),d(4),s()()),t&2){let o;I("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),E("aria-modal",!0)("aria-labelledby",(o=i._dialogLabelId)!==null&&o!==void 0?o:void 0),l(),Pe(i.datepicker.panelClass),h("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),l(),h("cdkPortalOutlet",i._actionsPortal),l(),I("cdk-visually-hidden",!i._closeButtonFocused),h("color",i.color||"primary"),l(),O(i._closeButtonText)}},dependencies:[xo,ha,Gt,Qt],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[cr.transformPanel,cr.fadeInCalendar]},changeDetection:0})}}return n})(),lr=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=_o(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,t,i,o,c,p,P){this._overlay=e,this._viewContainerRef=i,this._dateAdapter=c,this._dir=p,this._model=P,this._inputStateChanges=le.EMPTY,this._document=C(Ae),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new D,this.monthSelected=new D,this.viewChanged=new D(!0),this.openedStream=new D,this.closedStream=new D,this._opened=!1,this.id=`mat-datepicker-${Ns++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ee,this._injector=C(Ze),this._changeDetectorRef=C(Q),this._dateAdapter,this._scrollStrategy=o,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let i=this._overlayRef.getConfig().positionStrategy;i instanceof yo&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=go(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:i,location:o}=this._componentRef;i._startExitAnimation(),i._animationDone.pipe(Ii(1)).subscribe(()=>{let c=this._document.activeElement;e&&(!c||c===this._document.activeElement||o.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new Zn(fr,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new Ri({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(i).subscribe(o=>{o&&o.preventDefault(),this.close()}),i.keydownEvents().subscribe(o=>{let c=o.keyCode;(c===38||c===40||c===37||c===39||c===33||c===34)&&o.preventDefault()}),this._componentRef=i.attach(t),this._forwardContentValues(this._componentRef.instance),e||bt(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",i=t==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",c=o==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:c,overlayX:t,overlayY:o},{originX:t,originY:o,overlayX:t,overlayY:c},{originX:i,originY:c,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:c}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return He(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Te(i=>i.keyCode===27&&!tt(i)||this.datepickerInput&&tt(i,"altKey")&&i.keyCode===38&&t.every(o=>!tt(i,o)))))}static{this.\u0275fac=function(t){return new(t||n)(u(Ve),u(me),u(ft),u(gr),u(Le,8),u(Re,8),u(Hi))}}static{this.\u0275dir=te({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",T],disabled:[2,"disabled","disabled",T],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",T],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",T]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[oe,we]})}}return n})(),br=(()=>{class n extends lr{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Xi(n)))(i||n)}})()}static{this.\u0275cmp=x({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[pe([mr,{provide:lr,useExisting:n}]),at,w],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return n})(),gi=class{constructor(a,e){this.target=a,this.targetElement=e,this.value=this.target.value}},Hs=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&i.blur&&i.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let i=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new gi(this,this._elementRef.nativeElement)),this.dateChange.emit(new gi(this,this._elementRef.nativeElement))}})}constructor(e,t,i){this._elementRef=e,this._dateAdapter=t,this._dateFormats=i,this.dateChange=new D,this.dateInput=new D,this.stateChanges=new ee,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=le.EMPTY,this._localeSubscription=le.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),p=this._getMinDate();return!p||!c||this._dateAdapter.compareDate(p,c)<=0?null:{matDatepickerMin:{min:p,actual:c}}},this._maxValidator=o=>{let c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),p=this._getMaxDate();return!p||!c||this._dateAdapter.compareDate(p,c)>=0?null:{matDatepickerMax:{max:p,actual:c}}},this._lastValueValid=!1,this._localeSubscription=t.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){Us(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];tt(e,"altKey")&&e.keyCode===40&&t.every(o=>!tt(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);let o=!this._dateAdapter.sameDate(i,this.value);!i||o?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),t!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(i),this.dateInput.emit(new gi(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new gi(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Le,8),u(Wt,8))}}static{this.\u0275dir=te({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",T]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[oe,we]})}}return n})();function Us(n,a){let e=Object.keys(n);for(let t of e){let{previousValue:i,currentValue:o}=n[t];if(a.isDateInstance(i)&&a.isDateInstance(o)){if(!a.sameDate(i,o))return!0}else return!0}return!1}var Ys={provide:ri,useExisting:Ye(()=>Cn),multi:!0},qs={provide:sn,useExisting:Ye(()=>Cn),multi:!0},Cn=(()=>{class n extends Hs{set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}constructor(e,t,i,o){super(e,t,i),this._formField=o,this._closedSubscription=le.EMPTY,this._openedSubscription=le.EMPTY,this._ariaOwns=S(null),this._validator=N.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Le,8),u(Wt,8),u(pn,8))}}static{this.\u0275dir=te({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){t&1&&g("input",function(c){return i._onInput(c.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(c){return i._onKeydown(c)}),t&2&&(jt("disabled",i.disabled),E("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[pe([Ys,qs,{provide:oa,useExisting:n}]),at]})}}return n})(),Gs=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=te({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return n})(),fa=(()=>{class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,t,i){this._intl=e,this._changeDetectorRef=t,this._stateChanges=le.EMPTY;let o=Number(i);this.tabIndex=o||o===0?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:ve(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ve(),i=this.datepicker?He(this.datepicker.openedStream,this.datepicker.closedStream):ve();this._stateChanges.unsubscribe(),this._stateChanges=He(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(t){return new(t||n)(u(Ui),u(Q),xt("tabindex"))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,o){if(t&1&&fe(o,Gs,5),t&2){let c;A(c=F())&&(i._customIcon=c.first)}},viewQuery:function(t,i){if(t&1&&z(Ds,5),t&2){let o;A(o=F())&&(i._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&g("click",function(c){return i._open(c)}),t&2&&(E("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),I("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",T],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[oe,we,w],ngContentSelectors:Is,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(de(Ss),r(0,"button",1,0),_(2,Ts,2,0,":svg:svg",2),re(3),s()),t&2&&(h("disabled",i.disabled)("disableRipple",i.disableRipple),E("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),l(2),v(i._customIcon?-1:2))},dependencies:[$t],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})();var vr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({providers:[Ui,zs],imports:[se,Se,ai,Po,Co,U,fr,fa,_r,ni]})}}return n})();function $s(n,a){n&1&&(r(0,"mat-error",5),d(1,"First name is required"),s())}function Ks(n,a){n&1&&(r(0,"mat-error",5),d(1,"Last name is required"),s())}function Xs(n,a){n&1&&(r(0,"mat-error",5),d(1,"Email is required"),s())}function Zs(n,a){n&1&&(r(0,"mat-error",5),d(1,"Password is required"),s())}function Js(n,a){n&1&&(r(0,"mat-error",5),d(1,"Please confirm your password"),s())}function ec(n,a){if(n&1&&(r(0,"mat-form-field",3)(1,"mat-label"),d(2,"Confirm Password"),s(),y(3,"input",36),_(4,Js,2,0,"mat-error",5),s()),n&2){let e,t=m(2);l(4),v((e=t.userForm.get("confirmPassword"))!=null&&e.invalid&&((e=t.userForm.get("confirmPassword"))!=null&&e.touched)?4:-1)}}function tc(n,a){n&1&&(r(0,"div",31),d(1,"Passwords do not match"),s())}function ic(n,a){if(n&1&&(r(0,"div",2)(1,"mat-form-field",3)(2,"mat-label"),d(3,"Password"),s(),y(4,"input",35),_(5,Zs,2,0,"mat-error",5),s(),_(6,ec,5,1,"mat-form-field",3),s(),_(7,tc,2,0,"div",31)),n&2){let e,t,i=m();l(5),v((e=i.userForm.get("password"))!=null&&e.invalid&&((e=i.userForm.get("password"))!=null&&e.touched)?5:-1),l(),v(i.formType==="register"?6:-1),l(),v(i.userForm.errors!=null&&i.userForm.errors.passwordMismatch&&((t=i.userForm.get("confirmPassword"))!=null&&t.touched)?7:-1)}}function nc(n,a){n&1&&(r(0,"mat-error",5),d(1,"Date of birth is required"),s())}function ac(n,a){n&1&&(r(0,"mat-error",5),d(1,"Bio is required"),s())}function oc(n,a){n&1&&(r(0,"mat-error",5),d(1,"Please select at least one genre"),s())}function rc(n,a){if(n&1&&(r(0,"div",31),d(1),s()),n&2){let e=m();l(),O(e.errorMessage)}}function sc(n,a){if(n&1){let e=k();r(0,"button",37),g("click",function(){f(e);let i=m();return b(i.onCancel())}),d(1," Cancel "),s()}}var bi=class n{fb=C(mt);user=null;formType="register";isSubmitting=!1;errorMessage="";formSubmit=new D;cancelEdit=new D;selectedFile=null;userForm;ngOnInit(){this.initForm()}initForm(){this.userForm=this.fb.group({firstName:[this.user?.firstName||"",[N.required]],lastName:[this.user?.lastName||"",[N.required]],email:[this.user?.email||"",[N.required,N.email]],password:["",this.formType==="register"?[N.required,N.minLength(8)]:[]],confirmPassword:["",this.formType==="register"?[N.required]:[]],dateOfBirth:[this.user?.dateOfBirth?new Date(this.user.dateOfBirth):null,N.required],bio:[this.user?.bio||"",N.required],moviePreferences:[this.user?.moviePreferences||[],N.required]},{validators:this.formType==="register"?this.passwordMatchValidator:null}),this.formType==="profile"&&this.userForm.get("email")?.disable()}passwordMatchValidator(a){let e=a.get("password"),t=a.get("confirmPassword");return!e||!t||e.value===t.value?null:{passwordMismatch:!0}}onSubmit(){if(this.userForm.invalid){Object.keys(this.userForm.controls).forEach(e=>{this.userForm.get(e)?.markAsTouched()});return}let a=Mt({},this.userForm.getRawValue());"confirmPassword"in a&&delete a.confirmPassword,this.formType==="profile"&&!a.password&&delete a.password,this.formSubmit.emit(a),this.userForm.reset()}onCancel(){this.cancelEdit.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-user-form"]],inputs:{user:"user",formType:"formType",isSubmitting:"isSubmitting",errorMessage:"errorMessage"},outputs:{formSubmit:"formSubmit",cancelEdit:"cancelEdit"},standalone:!0,features:[w],decls:77,vars:14,consts:[["picker",""],[1,"user-form",3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","firstName","placeholder","First Name"],[1,"error"],["matInput","","formControlName","lastName","placeholder","Last Name"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","placeholder","Email","type","email"],["matInput","","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","bio","placeholder","Tell us about yourself","rows","4"],["formControlName","moviePreferences","multiple",""],["value","action"],["value","adventure"],["value","animation"],["value","comedy"],["value","crime"],["value","documentary"],["value","drama"],["value","family"],["value","fantasy"],["value","history"],["value","horror"],["value","music"],["value","mystery"],["value","romance"],["value","science-fiction"],["value","thriller"],["value","war"],["value","western"],[1,"error-message"],[1,"form-actions"],["type","button",1,"submit-button","dark-button"],["type","submit",1,"submit-button","primary-button",3,"disabled"],["matInput","","formControlName","password","placeholder","Password","type","password"],["matInput","","formControlName","confirmPassword","placeholder","Confirm Password","type","password"],["type","button",1,"submit-button","dark-button",3,"click"]],template:function(e,t){if(e&1){let i=k();r(0,"form",1),g("ngSubmit",function(){return f(i),b(t.onSubmit())}),r(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),d(4,"First Name"),s(),y(5,"input",4),_(6,$s,2,0,"mat-error",5),s(),r(7,"mat-form-field",3)(8,"mat-label"),d(9,"Last Name"),s(),y(10,"input",6),_(11,Ks,2,0,"mat-error",5),s()(),r(12,"mat-form-field",7)(13,"mat-label"),d(14,"Email"),s(),y(15,"input",8),_(16,Xs,2,0,"mat-error",5),s(),_(17,ic,8,3),r(18,"mat-form-field",7)(19,"mat-label"),d(20,"Date of Birth"),s(),y(21,"input",9)(22,"mat-datepicker-toggle",10)(23,"mat-datepicker",null,0),_(25,nc,2,0,"mat-error",5),s(),r(26,"mat-form-field",7)(27,"mat-label"),d(28,"Bio"),s(),y(29,"textarea",11),_(30,ac,2,0,"mat-error",5),s(),r(31,"mat-form-field",7)(32,"mat-label"),d(33,"Favorite Genres"),s(),r(34,"mat-select",12)(35,"mat-option",13),d(36,"Action"),s(),r(37,"mat-option",14),d(38,"Adventure"),s(),r(39,"mat-option",15),d(40,"Animation"),s(),r(41,"mat-option",16),d(42,"Comedy"),s(),r(43,"mat-option",17),d(44,"Crime"),s(),r(45,"mat-option",18),d(46,"Documentary"),s(),r(47,"mat-option",19),d(48,"Drama"),s(),r(49,"mat-option",20),d(50,"Family"),s(),r(51,"mat-option",21),d(52,"Fantasy"),s(),r(53,"mat-option",22),d(54,"History"),s(),r(55,"mat-option",23),d(56,"Horror"),s(),r(57,"mat-option",24),d(58,"Music"),s(),r(59,"mat-option",25),d(60,"Mystery"),s(),r(61,"mat-option",26),d(62,"Romance"),s(),r(63,"mat-option",27),d(64,"Science Fiction"),s(),r(65,"mat-option",28),d(66,"Thriller"),s(),r(67,"mat-option",29),d(68,"War"),s(),r(69,"mat-option",30),d(70,"Western"),s()(),_(71,oc,2,0,"mat-error",5),s(),_(72,rc,2,1,"div",31),r(73,"div",32),_(74,sc,2,0,"button",33),r(75,"button",34),d(76),s()()()}if(e&2){let i,o,c,p,P,M,B=W(24);h("formGroup",t.userForm),l(6),v((i=t.userForm.get("firstName"))!=null&&i.invalid&&((i=t.userForm.get("firstName"))!=null&&i.touched)?6:-1),l(5),v((o=t.userForm.get("lastName"))!=null&&o.invalid&&((o=t.userForm.get("lastName"))!=null&&o.touched)?11:-1),l(5),v((c=t.userForm.get("email"))!=null&&c.invalid&&((c=t.userForm.get("email"))!=null&&c.touched)?16:-1),l(),v(t.formType==="register"?17:-1),l(4),h("matDatepicker",B),l(),h("for",B),l(3),v((p=t.userForm.get("dateOfBirth"))!=null&&p.invalid&&((p=t.userForm.get("dateOfBirth"))!=null&&p.touched)?25:-1),l(5),v((P=t.userForm.get("bio"))!=null&&P.invalid&&((P=t.userForm.get("bio"))!=null&&P.touched)?30:-1),l(41),v((M=t.userForm.get("favoriteGenres"))!=null&&M.invalid&&((M=t.userForm.get("favoriteGenres"))!=null&&M.touched)?71:-1),l(),v(t.errorMessage?72:-1),l(2),v(t.formType==="profile"?74:-1),l(),h("disabled",t.userForm.invalid||t.isSubmitting),l(),L(" ",t.formType==="register"?"Sign Up":"Save Changes"," ")}},dependencies:[De,lt,_e,ge,ct,Ge,dt,he,Qe,We,pt,jo,xe,$e,ci,hn,Bi,vr,br,Cn,fa,Oo],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.user-form[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;font-size:16px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#f44336;margin-bottom:16px;font-size:12px;padding:8px;background-color:#f443361a;border-radius:4px}.error[_ngcontent-%COMP%]{font-size:12px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.dark-button[_ngcontent-%COMP%]{background-color:#212121;color:#fff}.dark-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#424242}.primary-button[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.primary-button[_ngcontent-%COMP%]:disabled{color:#faebd7;cursor:not-allowed;opacity:.6}.primary-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#d29401}.submit-button[_ngcontent-%COMP%]{font-size:14px;padding:20px;border-radius:48px;width:100%;font-weight:500;transition:all .2s ease;cursor:pointer}"]})};function cc(n,a){n&1&&(r(0,"mat-error"),d(1,"Password is required"),s())}function lc(n,a){if(n&1&&(r(0,"div",6),d(1),s()),n&2){let e=m();l(),O(e.errorMessage)}}var yn=class n{dialogRef=C(Io);fb=C(mt);authService=C(H);snackbarService=C(Me);deleteForm=this.fb.group({password:["",[N.required]]});isDeleting=!1;errorMessage="";onCancel(){this.dialogRef.close(!1)}onConfirm(){if(this.deleteForm.invalid)return;this.isDeleting=!0,this.errorMessage="";let a=this.deleteForm.get("password")?.value;this.authService.deleteProfile(a).subscribe({next:()=>{this.snackbarService.show("Account deleted successfully!"),this.isDeleting=!1,this.dialogRef.close(!0),this.authService.logout()},error:()=>{this.isDeleting=!1,this.errorMessage="Failed to delete account. Please try again."}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-delete-account-dialog"]],standalone:!0,features:[w],decls:16,vars:4,consts:[[1,"delete-account-dialog"],["mat-dialog-title",""],[1,"warning-text"],[3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","password","formControlName","password","placeholder","Password","autocomplete","current-password"],[1,"error-message"],["align","end"],["text","Cancel","variant","secondary",3,"buttonClick"],["text","Delete Account","variant","danger",3,"buttonClick","disabled"]],template:function(e,t){if(e&1&&(r(0,"div",0)(1,"h2",1),d(2,"Delete Your Account"),s(),r(3,"mat-dialog-content")(4,"p",2),d(5," Are you sure you want to delete your account? This action cannot be undone. All your data, including favorites, watchlist, and history will be permanently removed. "),s(),r(6,"form",3)(7,"mat-form-field",4)(8,"mat-label"),d(9,"Enter your password to confirm"),s(),y(10,"input",5),_(11,cc,2,0,"mat-error"),s()(),_(12,lc,2,1,"div",6),s(),r(13,"mat-dialog-actions",7)(14,"app-custom-button",8),g("buttonClick",function(){return t.onCancel()}),s(),r(15,"app-custom-button",9),g("buttonClick",function(){return t.onConfirm()}),s()()()),e&2){let i;l(6),h("formGroup",t.deleteForm),l(5),v((i=t.deleteForm.get("password"))!=null&&i.invalid&&((i=t.deleteForm.get("password"))!=null&&i.touched)?11:-1),l(),v(t.errorMessage?12:-1),l(3),h("disabled",t.deleteForm.invalid||t.isDeleting)}},dependencies:[Fo,To,Ao,Eo,he,Qe,We,pt,xe,$e,De,lt,_e,ge,ct,Ge,dt,Ot],styles:[".delete-account-dialog[_ngcontent-%COMP%]{min-width:400px;max-width:500px;background-color:#272522;padding:30px}h2[_ngcontent-%COMP%]{color:#f44336;margin-bottom:16px;font-weight:600}.warning-text[_ngcontent-%COMP%]{margin-bottom:24px;color:#fff;font-weight:200}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.error-message[_ngcontent-%COMP%]{color:#f44336;margin-top:16px;padding:8px;background-color:#f443361a;border-radius:4px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-right:20px}mat-dialog-title[_ngcontent-%COMP%]{color:#fff}"]})};function dc(n,a){if(n&1&&y(0,"img",1),n&2){let e,t=m();h("src",t.baseUrl+((e=t.user())==null?null:e.image),Bt)}}function mc(n,a){if(n&1&&(r(0,"div",2),d(1),s()),n&2){let e,t=m();l(),L(" ",((e=t.user())==null||e.name==null||(e=e.name.charAt(0))==null?null:e.toUpperCase())||((e=t.user())==null||e.firstName==null||(e=e.firstName.charAt(0))==null?null:e.toUpperCase())," ")}}var ht=class n{baseUrl=ho.API_URL;user=Ee.required();size=Ee(32);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-user-avatar"]],inputs:{user:[1,"user"],size:[1,"size"]},standalone:!0,features:[w],decls:3,vars:3,consts:[[1,"user-avatar"],["alt","Profile Picture",3,"src"],[1,"avatar-placeholder"]],template:function(e,t){if(e&1&&(r(0,"div",0),_(1,dc,1,1,"img",1)(2,mc,2,1,"div",2),s()),e&2){let i;ot("--avatar-size",t.size(),"px"),l(),v((i=t.user())!=null&&i.image?1:2)}},styles:[".user-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:var(--avatar-size);height:var(--avatar-size);border-radius:50%;overflow:hidden;position:relative}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f5c518;color:#000;font-weight:500;font-size:calc(var(--avatar-size) * .45);object-fit:cover}"]})};var ba=n=>({"with-error":n});function pc(n,a){if(n&1){let e=k();r(0,"div",3)(1,"app-custom-button",7),g("buttonClick",function(){f(e);let i=m();return b(i.startEditing())}),s(),r(2,"app-custom-button",8),g("buttonClick",function(){f(e);let i=m();return b(i.startChangingPassword())}),s(),r(3,"app-custom-button",9),g("buttonClick",function(){f(e);let i=m();return b(i.openDeleteDialog())}),s()()}}function hc(n,a){if(n&1){let e=k();r(0,"app-user-form",10),g("formSubmit",function(i){f(e);let o=m();return b(o.updateProfile(i))})("cancelEdit",function(){f(e);let i=m();return b(i.cancelEditing())}),s()}if(n&2){let e=m();h("user",e.user())("isSubmitting",e.isSubmitting())("errorMessage",e.errorMessage())}}function uc(n,a){n&1&&(r(0,"mat-error"),d(1," Current password is required "),s())}function _c(n,a){n&1&&(r(0,"mat-error"),d(1," New password is required "),s())}function gc(n,a){n&1&&(r(0,"mat-error"),d(1," Minimum 8 characters "),s())}function fc(n,a){n&1&&(r(0,"div",18),d(1," Please provide a new password different from the old one "),s())}function bc(n,a){n&1&&(r(0,"mat-error"),d(1," Confirm your new password "),s())}function vc(n,a){n&1&&(r(0,"div",18),d(1," New passwords do not match "),s())}function Cc(n,a){if(n&1&&(r(0,"div",18),d(1),s()),n&2){let e=m(2);l(),O(e.errorMessage())}}function yc(n,a){if(n&1){let e=k();r(0,"form",11),g("ngSubmit",function(i){f(e);let o=m();return b(o.onPasswordSubmit(i))}),r(1,"mat-form-field",12)(2,"mat-label"),d(3,"Current Password"),s(),y(4,"input",13),_(5,uc,2,0,"mat-error",14),s(),r(6,"mat-form-field",12)(7,"mat-label"),d(8,"New Password"),s(),y(9,"input",15),_(10,_c,2,0,"mat-error",14)(11,gc,2,0,"mat-error",14),s(),_(12,fc,2,0,"div",16),r(13,"mat-form-field",12)(14,"mat-label"),d(15,"Confirm New Password"),s(),y(16,"input",17),_(17,bc,2,0,"mat-error",14),s(),_(18,vc,2,0,"div",16)(19,Cc,2,1,"div",18),r(20,"div",19)(21,"button",20),g("click",function(){f(e);let i=m();return b(i.cancelChangingPassword())}),d(22," Cancel "),s(),r(23,"button",21),d(24," Update Password "),s()()()}if(n&2){let e,t,i,o,c,p,P,M=m();h("formGroup",M.passwordForm),l(),h("ngClass",et(12,ba,((e=M.passwordForm.get("currentPassword"))==null?null:e.invalid)&&((e=M.passwordForm.get("currentPassword"))==null?null:e.touched))),l(4),h("ngIf",(t=M.passwordForm.get("currentPassword"))==null?null:t.hasError("required")),l(),h("ngClass",et(14,ba,((i=M.passwordForm.get("newPassword"))==null?null:i.invalid)&&((i=M.passwordForm.get("newPassword"))==null?null:i.touched))),l(4),h("ngIf",(o=M.passwordForm.get("newPassword"))==null?null:o.hasError("required")),l(),h("ngIf",(c=M.passwordForm.get("newPassword"))==null?null:c.hasError("minlength")),l(),h("ngIf",M.passwordForm.touched&&M.passwordForm.hasError("newPasswordSameAsCurrent")),l(),h("ngClass",et(16,ba,((p=M.passwordForm.get("confirmPassword"))==null?null:p.invalid)&&((p=M.passwordForm.get("confirmPassword"))==null?null:p.touched))),l(4),h("ngIf",(P=M.passwordForm.get("confirmPassword"))==null?null:P.hasError("required")),l(),h("ngIf",M.passwordForm.hasError("passwordMismatch")),l(),v(M.errorMessage()?19:-1),l(4),h("disabled",M.passwordForm.invalid)}}function Mc(n,a){if(n&1){let e=k();r(0,"div",36),g("click",function(){f(e),m();let i=W(5);return b(i.click())}),r(1,"mat-icon"),d(2,"edit"),s()()}}function xc(n,a){if(n&1&&(r(0,"div",29)(1,"span",30),d(2,"Date of Birth:"),s(),r(3,"span",31),d(4),Jt(5,"date"),s()()),n&2){let e,t=m(2);l(4),O(ei(5,1,(e=t.user())==null?null:e.dateOfBirth,"mediumDate"))}}function kc(n,a){if(n&1&&(r(0,"div",27)(1,"h2"),d(2,"Bio"),s(),r(3,"p",37),d(4),s()()),n&2){let e,t=m(2);l(4),O((e=t.user())==null?null:e.bio)}}function wc(n,a){if(n&1&&(r(0,"span",39),d(1),s()),n&2){let e=a.$implicit;l(),O(e)}}function Pc(n,a){if(n&1&&(r(0,"div",27)(1,"h2"),d(2,"Favorite Genres"),s(),r(3,"div",38),Z(4,wc,2,1,"span",39,kt),s()()),n&2){let e,t=m(2);l(4),J((e=t.user())==null?null:e.moviePreferences)}}function Oc(n,a){if(n&1){let e=k();r(0,"div",6)(1,"div",22),g("mouseenter",function(){f(e);let i=m();return b(i.avatarHover=!0)})("mouseleave",function(){f(e);let i=m();return b(i.avatarHover=!1)}),y(2,"app-user-avatar",23),_(3,Mc,3,0,"div",24),r(4,"input",25,0),g("change",function(i){f(e);let o=m();return b(o.onFileSelected(i))}),s()(),r(6,"div",26)(7,"div",27)(8,"h2"),d(9,"Personal Information"),s(),r(10,"div",28)(11,"div",29)(12,"span",30),d(13,"Name:"),s(),r(14,"span",31),d(15),s()(),r(16,"div",29)(17,"span",30),d(18,"Email:"),s(),r(19,"span",31),d(20),s()(),_(21,xc,6,4,"div",29),s()(),_(22,kc,5,1,"div",27)(23,Pc,6,0,"div",27),r(24,"div",27)(25,"h2"),d(26,"Account Statistics"),s(),r(27,"div",32)(28,"div",33)(29,"span",34),d(30),s(),r(31,"span",35),d(32,"Favorites"),s()(),r(33,"div",33)(34,"span",34),d(35),s(),r(36,"span",35),d(37,"Watchlist"),s()(),r(38,"div",33)(39,"span",34),d(40),s(),r(41,"span",35),d(42,"Watched"),s()(),r(43,"div",33)(44,"span",34),d(45),s(),r(46,"span",35),d(47,"Followers"),s()(),r(48,"div",33)(49,"span",34),d(50),s(),r(51,"span",35),d(52,"Following"),s()()()()()()}if(n&2){let e,t,i,o,c,p,P,M,B,ie,R=m();l(2),h("user",R.user())("size",80),l(),v(R.avatarHover?3:-1),l(12),$a("",(e=R.user())==null?null:e.firstName," ",(e=R.user())==null?null:e.lastName,""),l(5),O((t=R.user())==null?null:t.email),l(),v((i=R.user())!=null&&i.dateOfBirth?21:-1),l(),v((o=R.user())!=null&&o.bio?22:-1),l(),v((c=R.user())!=null&&c.moviePreferences&&((c=R.user())==null?null:c.moviePreferences.length)>0?23:-1),l(7),O(((p=R.user())==null||p.favorites==null?null:p.favorites.length)||0),l(5),O(((P=R.user())==null||P.watchlist==null?null:P.watchlist.length)||0),l(5),O(((M=R.user())==null||M.watchedList==null?null:M.watchedList.length)||0),l(5),O(((B=R.user())==null||B.followers==null?null:B.followers.length)||0),l(5),O(((ie=R.user())==null||ie.following==null?null:ie.following.length)||0)}}var Mn=class n{authService=C(H);dialog=C(rn);router=C(K);snackbarService=C(Me);fb=C(mt);user=S(null);isEditing=S(!1);isChangingPassword=S(!1);selectedImage=null;avatarHover=!1;isSubmitting=S(!1);errorMessage=S("");passwordForm;ngOnInit(){this.authService.fetchUserData().subscribe(a=>{this.user.set(a)}),this.passwordForm=this.fb.group({currentPassword:["",N.required],newPassword:["",[N.required,N.minLength(8)]],confirmPassword:["",N.required]},{validators:this.passwordsMatchValidator})}passwordsMatchValidator(a){let e=a.get("currentPassword")?.value,t=a.get("newPassword")?.value,i=a.get("confirmPassword")?.value;return e&&e.length>0&&e===t?{newPasswordSameAsCurrent:!0}:t!==i?{passwordMismatch:!0}:null}onPasswordSubmit(a){if(a.preventDefault(),this.passwordForm.valid){let{currentPassword:e,newPassword:t}=this.passwordForm.value;this.authService.updatePassword(e,t).subscribe({next:()=>{this.snackbarService.show("Password updated successfully","success"),this.passwordForm.reset(),this.isChangingPassword.set(!1),this.errorMessage.set("")},error:i=>{this.errorMessage.set("Invalid password"),this.snackbarService.show("Invalid password","error")}})}}startEditing(){this.isEditing.set(!0)}cancelEditing(){this.isEditing.set(!1),this.errorMessage.set("")}startChangingPassword(){this.isChangingPassword.set(!0)}cancelChangingPassword(){this.isChangingPassword.set(!1),this.errorMessage.set(""),this.passwordForm.reset()}updateProfile(a){this.isSubmitting.set(!0),this.errorMessage.set(""),this.authService.updateProfile(a).subscribe({next:()=>{this.authService.fetchUserData().subscribe(e=>{this.user.set(e)}),this.isSubmitting.set(!1),this.isEditing.set(!1)},error:e=>{this.isSubmitting.set(!1),this.errorMessage.set(e.message||"Failed to update profile. Please try again.")}})}onFileSelected(a){if(this.selectedImage=a.target.files[0],!this.selectedImage||!this.user()?.id){this.snackbarService.show("No image selected","error");return}this.authService.updateUserProfileImage(this.user().id,this.selectedImage).subscribe({next:e=>{let t=this.user();t&&(t.image=e.image,this.user.set(t))},error:e=>{this.snackbarService.show("Ooops! Something went wrong!","error"),console.error("Error uploading image",e)}})}openDeleteDialog(){this.dialog.open(yn).afterClosed().subscribe(e=>{e===!0&&this.router.navigate(["/"])})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-profile"]],standalone:!0,features:[w],decls:8,vars:2,consts:[["fileInput",""],[1,"profile-container"],[1,"profile-header"],[1,"profile-actions"],["formType","profile",3,"user","isSubmitting","errorMessage"],[1,"user-form",3,"formGroup"],[1,"two-column-grid"],["text","Edit Profile","variant","info","icon","edit","size","small",3,"buttonClick"],["text","Change Password","variant","info","icon","edit_note","size","small",3,"buttonClick"],["text","Delete Account","variant","danger","icon","delete","size","small",3,"buttonClick"],["formType","profile",3,"formSubmit","cancelEdit","user","isSubmitting","errorMessage"],[1,"user-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width",3,"ngClass"],["matInput","","type","password","formControlName","currentPassword","required",""],[4,"ngIf"],["matInput","","type","password","formControlName","newPassword","required",""],["class","error-message",4,"ngIf"],["matInput","","type","password","formControlName","confirmPassword","required",""],[1,"error-message"],[1,"form-actions"],["type","button",1,"submit-button","dark-button",3,"click"],["type","submit",1,"submit-button","primary-button",3,"disabled"],[1,"avatar-wrapper",3,"mouseenter","mouseleave"],[3,"user","size"],[1,"edit-overlay"],["type","file","accept","image/*","hidden","",3,"change"],[1,"profile-details"],[1,"profile-section"],[1,"profile-info"],[1,"info-item"],[1,"label"],[1,"value"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"edit-overlay",3,"click"],[1,"bio"],[1,"genres-list"],[1,"genre-chip"]],template:function(e,t){e&1&&(r(0,"div",1)(1,"div",2)(2,"h1"),d(3,"My Profile"),s(),_(4,pc,4,0,"div",3),s(),_(5,hc,1,3,"app-user-form",4)(6,yc,25,18,"form",5)(7,Oc,53,14,"div",6),s()),e&2&&(l(4),v(t.isEditing()?-1:4),l(),v(t.isEditing()?5:t.isChangingPassword()?6:7))},dependencies:[bi,Ot,se,wt,Pt,ti,De,lt,_e,ge,ct,mn,Ge,dt,he,Qe,We,pt,xe,$e,Se,ce,ht],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.profile-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:24px}.two-column-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:10% 90%;gap:1rem;align-items:flex-start}.avatar-wrapper[_ngcontent-%COMP%]{padding-top:50px;position:relative;overflow:hidden;cursor:pointer}.avatar-wrapper[_ngcontent-%COMP%]   .edit-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#0006;display:flex;align-items:center;justify-content:center;color:#fff;font-size:24px;opacity:1;padding-top:50px;transition:opacity .5s ease-in-out}.profile-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px}.profile-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#fff}.profile-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.profile-details[_ngcontent-%COMP%]{border-radius:8px;padding:24px}.profile-section[_ngcontent-%COMP%]{margin-bottom:60px}.profile-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:16px;color:#fff;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:8px}.profile-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.profile-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#fff9;margin-bottom:4px}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem}.bio[_ngcontent-%COMP%]{line-height:1.6;white-space:pre-line}.genres-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.genre-chip[_ngcontent-%COMP%]{background-color:#feb508;color:#000;padding:4px 12px;border-radius:16px;font-size:.875rem;text-transform:capitalize}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:16px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:1px solid rgb(254,181,8);padding:16px;border-radius:8px}.stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#ffffffb3;margin-top:4px}.user-form[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;font-size:16px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.dark-button[_ngcontent-%COMP%]{background-color:#212121;color:#fff}.dark-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#424242}.primary-button[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.primary-button[_ngcontent-%COMP%]:disabled{color:#faebd7;cursor:not-allowed;opacity:.6}.primary-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#d29401}.submit-button[_ngcontent-%COMP%]{font-size:14px;padding:20px;border-radius:48px;width:100%;font-weight:500;transition:all .2s ease;cursor:pointer}.error-message[_ngcontent-%COMP%]{display:flex;color:#f44336;margin-bottom:16px;font-size:12px;padding:8px;background-color:#f443361a;border-radius:4px}.with-error[_ngcontent-%COMP%]{margin-bottom:1rem}mat-form-field[_ngcontent-%COMP%]{transition:margin-bottom .3s ease}"]})};var Dc=["*"],vi=class n{authService=C(H);router=C(K);isLoggedIn=$(()=>this.authService.isLoggedIn());navigateToHome(){this.isLoggedIn()?this.router.navigate(["/home"]):this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-auth-pages-container"]],standalone:!0,features:[w],ngContentSelectors:Dc,decls:5,vars:0,consts:[[1,"login-page-div"],[1,"login-page-grid"],[1,"login-page-navbar"],["src","streambase-logo.svg","alt","Streambase",1,"logo",3,"click"]],template:function(e,t){e&1&&(de(),r(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),g("click",function(){return t.navigateToHome()}),s()(),re(4),s()())},styles:['.login-page-div[_ngcontent-%COMP%]{height:100%}.login-page-grid[_ngcontent-%COMP%]{width:100%;height:100vh;background-image:url(/guestpage-hero-background.jpg);background-size:cover;background-position:center;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.login-page-grid[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#0009,#0009);z-index:1}.login-page-navbar[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;align-items:center;justify-content:flex-start;z-index:2;background:linear-gradient(to bottom,rgba(0,0,0,.5) 30%,transparent 100%)}.logo[_ngcontent-%COMP%]{cursor:pointer}']})};var kn=class n{authService=C(H);router=C(K);snackBarService=C(Me);isSubmitting=S(!1);errorMessage=S("");onRegister(a){this.isSubmitting.set(!0),this.errorMessage.set(""),this.authService.registerUser(a).subscribe({next:()=>{this.snackBarService.show("Registration successful","success"),this.router.navigate(["/sign-in"]),this.isSubmitting.set(!1)},error:e=>{this.isSubmitting.set(!1),this.errorMessage.set(e.message||"Registration failed. Please try again.")}})}navigateToSignIn(){this.router.navigate(["/sign-in"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-sign-up"]],standalone:!0,features:[w],decls:11,vars:2,consts:[[1,"login-page-form"],[1,"typography-h5"],[1,"typography-subtitle"],["formType","register",3,"formSubmit","isSubmitting","errorMessage"],[1,"call-to-action"],[1,"action-link",3,"click"]],template:function(e,t){e&1&&(r(0,"app-auth-pages-container")(1,"div",0)(2,"h2",1),d(3,"Create an Account"),s(),r(4,"p",2),d(5,"Join StreamBase to track your favorite movies, create watchlists, and more."),s(),r(6,"app-user-form",3),g("formSubmit",function(o){return t.onRegister(o)}),s(),r(7,"div",4),d(8," Already have an account? "),r(9,"span",5),g("click",function(){return t.navigateToSignIn()}),d(10,"Sign In"),s()()()()),e&2&&(l(6),h("isSubmitting",t.isSubmitting())("errorMessage",t.errorMessage()))},dependencies:[bi,vi],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.login-page-form[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:10px 60px;position:relative;z-index:2;background:#000000bf;border-radius:10px}.typography-h5[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:36px;margin-bottom:8px}.typography-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin-bottom:24px}.call-to-action[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;display:block;width:100%;text-align:center;font-size:14px}.call-to-action[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]{font-weight:700;cursor:pointer;text-decoration:underline}.call-to-action[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]:hover{color:#feb508}"]})};var Sc=["input"],Ic=["label"],Tc=["*"],Ec=new G("mat-checkbox-default-options",{providedIn:"root",factory:yr});function yr(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ke=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(ke||{}),Ac={provide:ri,useExisting:Ye(()=>wn),multi:!0},va=class{},Fc=0,Cr=yr(),wn=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new va;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,i,o,c,p){this._elementRef=e,this._changeDetectorRef=t,this._ngZone=i,this._animationMode=c,this._options=p,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new D,this.indeterminateChange=new D,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ke.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Cr,this.color=this._options.color||Cr.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++Fc}`,this.disabledInteractive=p?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(ke.Indeterminate):this._transitionCheckState(this.checked?ke.Checked:ke.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,i=this._getAnimationTargetElement();if(!(t===e||!i)&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ke.Checked:ke.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationMode==="NoopAnimations")return"";switch(e){case ke.Init:if(t===ke.Checked)return this._animationClasses.uncheckedToChecked;if(t==ke.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ke.Unchecked:return t===ke.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ke.Checked:return t===ke.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ke.Indeterminate:return t===ke.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Q),u(me),xt("tabindex"),u(gt,8),u(Ec,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-checkbox"]],viewQuery:function(t,i){if(t&1&&(z(Sc,5),z(Ic,5),z(st,5)),t&2){let o;A(o=F())&&(i._inputElement=o.first),A(o=F())&&(i._labelElement=o.first),A(o=F())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(t,i){t&2&&(jt("id",i.id),E("tabindex",null)("aria-label",null)("aria-labelledby",null),Pe(i.color?"mat-"+i.color:"mat-accent"),I("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked)("mat-mdc-checkbox-disabled-interactive",i.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",T],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",T],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Yt(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",T],checked:[2,"checked","checked",T],disabled:[2,"disabled","disabled",T],indeterminate:[2,"indeterminate","indeterminate",T]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[pe([Ac,{provide:sn,useExisting:n,multi:!0}]),oe,we,w],ngContentSelectors:Tc,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,i){if(t&1){let o=k();de(),r(0,"div",3),g("click",function(p){return f(o),b(i._preventBubblingFromLabel(p))}),r(1,"div",4,0)(3,"div",5),g("click",function(){return f(o),b(i._onTouchTargetClick())}),s(),r(4,"input",6,1),g("blur",function(){return f(o),b(i._onBlur())})("click",function(){return f(o),b(i._onInputClick())})("change",function(p){return f(o),b(i._onInteractionEvent(p))}),s(),y(6,"div",7),r(7,"div",8),qe(),r(8,"svg",9),y(9,"path",10),s(),Ei(),y(10,"div",11),s(),y(11,"div",12),s(),r(12,"label",13,2),re(14),s()()}if(t&2){let o=W(2);h("labelPosition",i.labelPosition),l(4),I("mdc-checkbox--selected",i.checked),h("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled&&!i.disabledInteractive)("id",i.inputId)("required",i.required)("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex),E("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("aria-disabled",i.disabled&&i.disabledInteractive?!0:null)("name",i.name)("value",i.value),l(7),h("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),l(),h("for",i.inputId)}},dependencies:[st,So],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var Mr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({imports:[wn,U,U]})}}return n})();var Ci=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=qt(e)}get inset(){return this._inset}set inset(e){this._inset=qt(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){t&2&&(E("aria-orientation",i.vertical?"vertical":"horizontal"),I("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[w],decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return n})(),Rt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({imports:[U,U]})}}return n})();function Vc(n,a){n&1&&(r(0,"mat-error",6),d(1,"Email is required"),s())}function Lc(n,a){n&1&&(r(0,"mat-error",6),d(1,"Password is required"),s())}function Bc(n,a){n&1&&(r(0,"mat-error",6),d(1,"Admin pin is required"),s())}function Nc(n,a){if(n&1&&(r(0,"mat-form-field",4)(1,"mat-label"),d(2,"Admin Pin"),s(),y(3,"input",14),_(4,Bc,2,0,"mat-error",6),s()),n&2){let e,t=m();l(4),v((e=t.signInForm.get("adminPin"))!=null&&e.invalid&&((e=t.signInForm.get("adminPin"))!=null&&e.touched)?4:-1)}}function jc(n,a){if(n&1&&(r(0,"div",11),d(1),s()),n&2){let e=m();l(),L(" ",e.errorMessage()," ")}}function zc(n,a){if(n&1){let e=k();r(0,"div",13),d(1," Don't have an account? "),r(2,"span",15),g("click",function(){f(e);let i=m();return b(i.navigateToSignUp())}),d(3,"Sign Up"),s()()}}var yi=class n{fb=C(mt);route=C(ii);router=C(K);authService=C(H);returnUrl="/";isAdmin=Ee(!1);ngOnInit(){this.route.queryParams.subscribe(a=>{this.returnUrl=a.return||this.isAdmin()?"admin-dashboard":"home"})}signInForm;isSubmitting=S(!1);errorMessage=S("");constructor(){this.signInForm=this.fb.group({email:["",[N.required,N.email]],password:["",[N.required]],adminPin:["",this.isAdmin()?[N.required]:[]],rememberMe:[!1]})}onSubmit(){if(this.signInForm.invalid){Object.keys(this.signInForm.controls).forEach(o=>{this.signInForm.get(o)?.markAsTouched()});return}this.isSubmitting.set(!0),this.errorMessage.set("");let{email:a,password:e,adminPin:t,rememberMe:i}=this.signInForm.value;this.isAdmin()?this.authService.loginAdmin({email:a,password:e,pin:t},i).subscribe({next:()=>{this.router.navigateByUrl(this.returnUrl),this.isSubmitting.set(!1)},error:o=>{this.isSubmitting.set(!1),this.errorMessage.set(o.message||"Sign in failed. Please try again.")}}):this.authService.loginUser({email:a,password:e},i).subscribe({next:()=>{this.router.navigateByUrl(this.returnUrl),this.isSubmitting.set(!1)},error:o=>{this.isSubmitting.set(!1),this.errorMessage.set(o.message||"Sign in failed. Please try again.")}})}navigateToSignUp(){if(this.isAdmin()){this.router.navigate(["/admin-sign-up"]);return}this.router.navigate(["/sign-up"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-sign-in"]],inputs:{isAdmin:[1,"isAdmin"]},standalone:!0,features:[w],decls:26,vars:9,consts:[[1,"login-page-form"],[1,"typography-h5"],[1,"typography-subtitle"],[1,"sign-in-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","placeholder","Email","type","email","autocomplete","email"],[1,"error"],["matInput","","formControlName","password","placeholder","Password","type","password","autocomplete","current-password"],[1,"form-options"],["formControlName","rememberMe","color","primary"],[1,"remember"],[1,"error-message"],["type","submit",1,"submit-button",3,"disabled"],[1,"call-to-action"],["matInput","","formControlName","adminPin","placeholder","Admin Pin","type","password"],[1,"action-link",3,"click"]],template:function(e,t){if(e&1&&(r(0,"app-auth-pages-container")(1,"div",0)(2,"h2",1),d(3),s(),r(4,"p",2),d(5),s(),r(6,"form",3),g("ngSubmit",function(){return t.onSubmit()}),r(7,"mat-form-field",4)(8,"mat-label"),d(9,"Email"),s(),y(10,"input",5),_(11,Vc,2,0,"mat-error",6),s(),r(12,"mat-form-field",4)(13,"mat-label"),d(14,"Password"),s(),y(15,"input",7),_(16,Lc,2,0,"mat-error",6),s(),_(17,Nc,5,1,"mat-form-field",4),r(18,"div",8),y(19,"mat-checkbox",9),r(20,"span",10),d(21,"Remember me"),s()(),_(22,jc,2,1,"div",11),r(23,"button",12),d(24," Sign In "),s()(),_(25,zc,4,0,"div",13),s()()),e&2){let i,o;l(3),L("",t.isAdmin()?"Admin ":""," Sign In"),l(2),L(" ",t.isAdmin()?"Please sign in to access the admin panel":"Welcome to StreamBase"," "),l(),h("formGroup",t.signInForm),l(5),v((i=t.signInForm.get("email"))!=null&&i.invalid&&((i=t.signInForm.get("email"))!=null&&i.touched)?11:-1),l(5),v((o=t.signInForm.get("password"))!=null&&o.invalid&&((o=t.signInForm.get("password"))!=null&&o.touched)?16:-1),l(),v(t.isAdmin()?17:-1),l(5),v(t.errorMessage()?22:-1),l(),h("disabled",t.signInForm.invalid||t.isSubmitting()),l(2),v(t.isAdmin()?-1:25)}},dependencies:[De,lt,_e,ge,ct,Ge,dt,he,Qe,We,pt,xe,$e,Mr,wn,Rt,vi],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.sign-in-form[_ngcontent-%COMP%]{width:100%;margin:0 auto;font-size:16px}.full-width[_ngcontent-%COMP%]{width:100%}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;margin-bottom:8px}.error-message[_ngcontent-%COMP%]{background-color:#f443361a;color:#f44336;padding:12px;border-radius:4px;margin-bottom:16px;font-size:14px}.remember[_ngcontent-%COMP%]{color:#c7c6c6}.error[_ngcontent-%COMP%]{font-size:12px}.login-page-form[_ngcontent-%COMP%]{max-width:500px;margin:auto;padding:0 60px 40px;position:relative;z-index:2;background:#000000bf;border-radius:10px}.typography-h5[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:36px;margin-bottom:8px}.typography-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin-bottom:24px}.call-to-action[_ngcontent-%COMP%]{margin-top:20px;display:block;width:100%;text-align:center;font-size:14px}.call-to-action[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]{font-weight:700;cursor:pointer;text-decoration:underline}.call-to-action[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]:hover{color:#feb508}.submit-button[_ngcontent-%COMP%]{font-size:15px;padding:20px;border-radius:48px;width:100%;font-weight:500;transition:all .2s ease;cursor:pointer;background-color:#feb508}"]})};var ka=["*"];function Uc(n,a){n&1&&re(0)}var Yc=["tabListContainer"],qc=["tabList"],Gc=["tabListInner"],Wc=["nextPaginator"],Qc=["previousPaginator"],$c=n=>({animationDuration:n}),Kc=(n,a)=>({value:n,params:a});function Xc(n,a){}var Zc=["tabBodyWrapper"],Jc=["tabHeader"];function el(n,a){}function tl(n,a){if(n&1&&_(0,el,0,0,"ng-template",12),n&2){let e=m().$implicit;h("cdkPortalOutlet",e.templateLabel)}}function il(n,a){if(n&1&&d(0),n&2){let e=m().$implicit;O(e.textLabel)}}function nl(n,a){if(n&1){let e=k();r(0,"div",7,2),g("click",function(){let i=f(e),o=i.$implicit,c=i.$index,p=m(),P=W(1);return b(p._handleClick(o,P,c))})("cdkFocusChange",function(i){let o=f(e).$index,c=m();return b(c._tabFocusChanged(i,o))}),y(2,"span",8)(3,"div",9),r(4,"span",10)(5,"span",11),_(6,tl,1,1,null,12)(7,il,1,1),s()()()}if(n&2){let e=a.$implicit,t=a.$index,i=W(1),o=m();Pe(e.labelClass),I("mdc-tab--active",o.selectedIndex===t),h("id",o._getTabLabelId(t))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),E("tabIndex",o._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(t))("aria-selected",o.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),l(3),h("matRippleTrigger",i)("matRippleDisabled",e.disabled||o.disableRipple),l(3),v(e.templateLabel?6:7)}}function al(n,a){n&1&&re(0)}function ol(n,a){if(n&1){let e=k();r(0,"mat-tab-body",13),g("_onCentered",function(){f(e);let i=m();return b(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){f(e);let o=m();return b(o._setTabBodyWrapperHeight(i))}),s()}if(n&2){let e=a.$implicit,t=a.$index,i=m();Pe(e.bodyClass),I("mat-mdc-tab-body-active",i.selectedIndex===t),h("id",i._getTabContentId(t))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),E("tabindex",i.contentTabIndex!=null&&i.selectedIndex===t?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(t))("aria-hidden",i.selectedIndex!==t)}}var rl=new G("MatTabContent"),sl=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(u(Je))}}static{this.\u0275dir=te({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[pe([{provide:rl,useExisting:n}])]})}}return n})(),cl=new G("MatTabLabel"),wr=new G("MAT_TAB"),ll=(()=>{class n extends vo{constructor(e,t,i){super(e,t),this._closestTab=i}static{this.\u0275fac=function(t){return new(t||n)(u(Je),u(ft),u(wr,8))}}static{this.\u0275dir=te({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[pe([{provide:cl,useExisting:n}]),at]})}}return n})(),Pr=new G("MAT_TAB_GROUP"),wa=(()=>{class n{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,t){this._viewContainerRef=e,this._closestTabGroup=t,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new ee,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Fi(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static{this.\u0275fac=function(t){return new(t||n)(u(ft),u(Pr,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-tab"]],contentQueries:function(t,i,o){if(t&1&&(fe(o,ll,5),fe(o,sl,7,Je)),t&2){let c;A(c=F())&&(i.templateLabel=c.first),A(c=F())&&(i._explicitContent=c.first)}},viewQuery:function(t,i){if(t&1&&z(Je,7),t&2){let o;A(o=F())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",T],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[pe([{provide:wr,useExisting:n}]),oe,we,w],ngContentSelectors:ka,decls:1,vars:0,template:function(t,i){t&1&&(de(),_(0,Uc,1,0,"ng-template"))},encapsulation:2})}}return n})(),ya="mdc-tab-indicator--active",xr="mdc-tab-indicator--no-transition",Ma=class{constructor(a){this._items=a}hide(){this._items.forEach(a=>a.deactivateInkBar())}alignToElement(a){let e=this._items.find(i=>i.elementRef.nativeElement===a),t=this._currentItem;if(e!==t&&(t?.deactivateInkBar(),e)){let i=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}},dl=(()=>{class n{constructor(){this._elementRef=C(Y),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(ya);return}let i=t.getBoundingClientRect(),o=e.width/i.width,c=e.left-i.left;t.classList.add(xr),this._inkBarContentElement.style.setProperty("transform",`translateX(${c}px) scaleX(${o})`),t.getBoundingClientRect(),t.classList.remove(xr),t.classList.add(ya),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(ya)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),i=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=te({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",T]},features:[oe]})}}return n})();var Or=(()=>{class n extends dl{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(t){return new(t||n)(u(Y))}}static{this.\u0275dir=te({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){t&2&&(E("aria-disabled",!!i.disabled),I("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",T]},standalone:!0,features:[oe,at]})}}return n})(),kr=rt({passive:!0}),ml=650,pl=100,hl=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(e,t,i,o,c,p,P){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=i,this._dir=o,this._ngZone=c,this._platform=p,this._animationMode=P,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ee,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ee,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new D,this.indexFocused=new D,this._sharedResizeObserver=C(No),this._injector=C(Ze),c.runOutsideAngular(()=>{Si(e.nativeElement,"mouseleave").pipe(Ce(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Si(this._previousPaginator.nativeElement,"touchstart",kr).pipe(Ce(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Si(this._nextPaginator.nativeElement,"touchstart",kr).pipe(Ce(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:ve("ltr"),t=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Xt(32),Ce(this._destroyed)),i=this._viewportRuler.change(150).pipe(Ce(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new nn(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),bt(o,{injector:this._injector}),He(e,i,t,this._items.changes,this._itemsResized()).pipe(Ce(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(c=>{this.indexFocused.emit(c),this._setTabFocus(c)})}_itemsResized(){return typeof ResizeObserver!="function"?Wi:this._items.changes.pipe(Ue(this._items),_t(e=>new Fa(t=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>t.next(o));return e.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),Ba(1),Te(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!tt(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,i=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:c}=t.elementRef.nativeElement,p,P;this._getLayoutDirection()=="ltr"?(p=o,P=p+c):(P=this._tabListInner.nativeElement.offsetWidth-o,p=P-c);let M=this.scrollDistance,B=this.scrollDistance+i;p<M?this.scrollDistance-=M-p:P>B&&(this.scrollDistance+=Math.min(P-B,p-M))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,t=this._elementRef.nativeElement.offsetWidth,i=e-t>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),Va(ml,pl).pipe(Ce(He(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(e);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Q),u(Xn),u(Re,8),u(me),u(Fe),u(gt,8))}}static{this.\u0275dir=te({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",T],selectedIndex:[2,"selectedIndex","selectedIndex",Yt]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[oe]})}}return n})(),ul=(()=>{class n extends hl{constructor(e,t,i,o,c,p,P){super(e,t,i,o,c,p,P),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Ma(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Q),u(Xn),u(Re,8),u(me),u(Fe),u(gt,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,i,o){if(t&1&&fe(o,Or,4),t&2){let c;A(c=F())&&(i._items=c)}},viewQuery:function(t,i){if(t&1&&(z(Yc,7),z(qc,7),z(Gc,7),z(Wc,5),z(Qc,5)),t&2){let o;A(o=F())&&(i._tabListContainer=o.first),A(o=F())&&(i._tabList=o.first),A(o=F())&&(i._tabListInner=o.first),A(o=F())&&(i._nextPaginator=o.first),A(o=F())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,i){t&2&&I("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",T]},standalone:!0,features:[oe,at,w],ngContentSelectors:ka,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(t,i){if(t&1){let o=k();de(),r(0,"div",5,0),g("click",function(){return f(o),b(i._handlePaginatorClick("before"))})("mousedown",function(p){return f(o),b(i._handlePaginatorPress("before",p))})("touchend",function(){return f(o),b(i._stopInterval())}),y(2,"div",6),s(),r(3,"div",7,1),g("keydown",function(p){return f(o),b(i._handleKeydown(p))}),r(5,"div",8,2),g("cdkObserveContent",function(){return f(o),b(i._onContentChanges())}),r(7,"div",9,3),re(9),s()()(),r(10,"div",10,4),g("mousedown",function(p){return f(o),b(i._handlePaginatorPress("after",p))})("click",function(){return f(o),b(i._handlePaginatorClick("after"))})("touchend",function(){return f(o),b(i._stopInterval())}),y(12,"div",6),s()}t&2&&(I("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),h("matRippleDisabled",i._disableScrollBefore||i.disableRipple),l(3),I("_mat-animation-noopable",i._animationMode==="NoopAnimations"),l(2),E("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),l(5),I("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),h("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[st,Mo],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return n})(),_l=new G("MAT_TABS_CONFIG"),gl={translateTab:be("translateTab",[Oe("center, void, left-origin-center, right-origin-center",V({transform:"none",visibility:"visible"})),Oe("left",V({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Oe("right",V({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),X("* => left, * => right, left => center, right => center",q("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),X("void => left-origin-center",[V({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),q("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),X("void => right-origin-center",[V({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),q("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},fl=(()=>{class n extends Gt{constructor(e,t,i,o){super(e,t,o),this._host=i,this._centeringSub=le.EMPTY,this._leavingSub=le.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ue(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(u(Wn),u(ft),u(Ye(()=>Dr)),u(Ae))}}static{this.\u0275dir=te({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[at]})}}return n})(),Dr=(()=>{class n{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,t,i){this._elementRef=e,this._dir=t,this._dirChangeSubscription=le.EMPTY,this._translateTabComplete=new ee,this._onCentering=new D,this._beforeCentering=new D,this._afterLeavingCenter=new D,this._onCentered=new D(!0),this.animationDuration="500ms",this.preserveContent=!1,t&&(this._dirChangeSubscription=t.change.subscribe(o=>{this._computePositionAnimationState(o),i.markForCheck()})),this._translateTabComplete.subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let t=this._getLayoutDirection();return t=="ltr"&&e<=0||t=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Re,8),u(Q))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(t&1&&z(Gt,5),t&2){let o;A(o=F())&&(i._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[w],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,i){if(t&1){let o=k();r(0,"div",1,0),g("@translateTab.start",function(p){return f(o),b(i._onTranslateTabStarted(p))})("@translateTab.done",function(p){return f(o),b(i._translateTabComplete.next(p))}),_(2,Xc,0,0,"ng-template",2),s()}t&2&&h("@translateTab",tn(3,Kc,i._position,et(1,$c,i.animationDuration)))},dependencies:[fl,bo],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[gl.translateTab]}})}}return n})(),bl=0,vl=!0,Sr=(()=>{class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!vl)throw new Error("mat-tab-group background color must be set through the Sass theming API");let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,t,i,o){this._elementRef=e,this._changeDetectorRef=t,this._animationMode=o,this._tabs=new Ai,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=le.EMPTY,this._tabLabelSubscription=le.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new D,this.focusChange=new D,this.animationDone=new D,this.selectedTabChange=new D(!0),this._isServer=!C(Fe).isBrowser,this._groupId=bl++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=i&&i.disablePagination!=null?i.disablePagination:!1,this.dynamicHeight=i&&i.dynamicHeight!=null?i.dynamicHeight:!1,i?.contentTabIndex!=null&&(this.contentTabIndex=i.contentTabIndex),this.preserveContent=!!i?.preserveContent,this.fitInkBarToContent=i&&i.fitInkBarToContent!=null?i.fitInkBarToContent:!1,this.stretchTabs=i&&i.stretchTabs!=null?i.stretchTabs:!0}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,i)=>{t.position=i-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),i;for(let o=0;o<t.length;o++)if(t[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=t[o];break}!i&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ue(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let t=new xa;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=He(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,i){t.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t)}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Q),u(_l,8),u(gt,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,i,o){if(t&1&&fe(o,wa,5),t&2){let c;A(c=F())&&(i._allTabs=c)}},viewQuery:function(t,i){if(t&1&&(z(Zc,5),z(Jc,5)),t&2){let o;A(o=F())&&(i._tabBodyWrapper=o.first),A(o=F())&&(i._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(t,i){t&2&&(Pe("mat-"+(i.color||"primary")),ot("--mat-tab-animation-duration",i.animationDuration),I("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",T],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",T],dynamicHeight:[2,"dynamicHeight","dynamicHeight",T],selectedIndex:[2,"selectedIndex","selectedIndex",Yt],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Yt],disablePagination:[2,"disablePagination","disablePagination",T],disableRipple:[2,"disableRipple","disableRipple",T],preserveContent:[2,"preserveContent","preserveContent",T],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[pe([{provide:Pr,useExisting:n}]),oe,w],ngContentSelectors:ka,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(t,i){if(t&1){let o=k();de(),r(0,"mat-tab-header",3,0),g("indexFocused",function(p){return f(o),b(i._focusChanged(p))})("selectFocusedIndex",function(p){return f(o),b(i.selectedIndex=p)}),Z(2,nl,8,17,"div",4,kt),s(),_(4,al,1,0),r(5,"div",5,1),Z(7,ol,1,13,"mat-tab-body",6,kt),s()}t&2&&(h("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),l(2),J(i._tabs),l(2),v(i._isServer?4:-1),l(),I("_mat-animation-noopable",i._animationMode==="NoopAnimations"),l(2),J(i._tabs))},dependencies:[ul,Or,an,st,Gt,Dr],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return n})(),xa=class{};var Ir=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({imports:[U,U]})}}return n})();var yl=new G("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var Tr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({providers:[Li,{provide:yl,useValue:{separatorKeyCodes:[13]}}],imports:[U,oi,U]})}}return n})();var Ml=Math.pow(10,8)*24*60*60*1e3,xg=-Ml;var qi=43200,Pa=1440;var xl=3600;var Er=xl*24,kg=Er*7,kl=Er*365.2425,wl=kl/12,wg=wl*3,Oa=Symbol.for("constructDateFrom");function Mi(n,a){return typeof n=="function"?n(a):n&&typeof n=="object"&&Oa in n?n[Oa](a):n instanceof Date?new n.constructor(a):new Date(a)}function Ie(n,a){return Mi(a||n,n)}var Pl={};function Ar(){return Pl}function Da(n){let a=Ie(n),e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),+n-+e}function xi(n,...a){let e=Mi.bind(null,n||a.find(t=>typeof t=="object"));return a.map(e)}function ki(n,a){let e=+Ie(n)-+Ie(a);return e<0?-1:e>0?1:e}function Fr(n){return Mi(n,Date.now())}function Rr(n,a,e){let[t,i]=xi(e?.in,n,a),o=t.getFullYear()-i.getFullYear(),c=t.getMonth()-i.getMonth();return o*12+c}function Vr(n){return a=>{let t=(n?Math[n]:Math.trunc)(a);return t===0?0:t}}function Lr(n,a){return+Ie(n)-+Ie(a)}function Br(n,a){let e=Ie(n,a?.in);return e.setHours(23,59,59,999),e}function Nr(n,a){let e=Ie(n,a?.in),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function jr(n,a){let e=Ie(n,a?.in);return+Br(e,a)==+Nr(e,a)}function zr(n,a,e){let[t,i,o]=xi(e?.in,n,n,a),c=ki(i,o),p=Math.abs(Rr(i,o));if(p<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-c*p);let P=ki(i,o)===-c;jr(t)&&p===1&&ki(t,o)===1&&(P=!1);let M=c*(p-+P);return M===0?0:M}function Hr(n,a,e){let t=Lr(n,a)/1e3;return Vr(e?.roundingMethod)(t)}var Ol={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ur=(n,a,e)=>{let t,i=Ol[n];return typeof i=="string"?t=i:a===1?t=i.one:t=i.other.replace("{{count}}",a.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};function Pn(n){return(a={})=>{let e=a.width?String(a.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}var Dl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Il={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yr={date:Pn({formats:Dl,defaultWidth:"full"}),time:Pn({formats:Sl,defaultWidth:"full"}),dateTime:Pn({formats:Il,defaultWidth:"full"})};var Tl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qr=(n,a,e,t)=>Tl[n];function wi(n){return(a,e)=>{let t=e?.context?String(e.context):"standalone",i;if(t==="formatting"&&n.formattingValues){let c=n.defaultFormattingWidth||n.defaultWidth,p=e?.width?String(e.width):c;i=n.formattingValues[p]||n.formattingValues[c]}else{let c=n.defaultWidth,p=e?.width?String(e.width):n.defaultWidth;i=n.values[p]||n.values[c]}let o=n.argumentCallback?n.argumentCallback(a):a;return i[o]}}var El={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Al={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ll={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bl=(n,a)=>{let e=Number(n),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Gr={ordinalNumber:Bl,era:wi({values:El,defaultWidth:"wide"}),quarter:wi({values:Al,defaultWidth:"wide",argumentCallback:n=>n-1}),month:wi({values:Fl,defaultWidth:"wide"}),day:wi({values:Rl,defaultWidth:"wide"}),dayPeriod:wi({values:Vl,defaultWidth:"wide",formattingValues:Ll,defaultFormattingWidth:"wide"})};function Pi(n){return(a,e={})=>{let t=e.width,i=t&&n.matchPatterns[t]||n.matchPatterns[n.defaultMatchWidth],o=a.match(i);if(!o)return null;let c=o[0],p=t&&n.parsePatterns[t]||n.parsePatterns[n.defaultParseWidth],P=Array.isArray(p)?jl(p,ie=>ie.test(c)):Nl(p,ie=>ie.test(c)),M;M=n.valueCallback?n.valueCallback(P):P,M=e.valueCallback?e.valueCallback(M):M;let B=a.slice(c.length);return{value:M,rest:B}}}function Nl(n,a){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&a(n[e]))return e}function jl(n,a){for(let e=0;e<n.length;e++)if(a(n[e]))return e}function Wr(n){return(a,e={})=>{let t=a.match(n.matchPattern);if(!t)return null;let i=t[0],o=a.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;let p=a.slice(i.length);return{value:c,rest:p}}}var zl=/^(\d+)(th|st|nd|rd)?/i,Hl=/\d+/i,Ul={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yl={any:[/^b/i,/^(a|c)/i]},ql={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gl={any:[/1/i,/2/i,/3/i,/4/i]},Wl={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ql={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$l={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kl={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xl={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zl={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qr={ordinalNumber:Wr({matchPattern:zl,parsePattern:Hl,valueCallback:n=>parseInt(n,10)}),era:Pi({matchPatterns:Ul,defaultMatchWidth:"wide",parsePatterns:Yl,defaultParseWidth:"any"}),quarter:Pi({matchPatterns:ql,defaultMatchWidth:"wide",parsePatterns:Gl,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Pi({matchPatterns:Wl,defaultMatchWidth:"wide",parsePatterns:Ql,defaultParseWidth:"any"}),day:Pi({matchPatterns:$l,defaultMatchWidth:"wide",parsePatterns:Kl,defaultParseWidth:"any"}),dayPeriod:Pi({matchPatterns:Xl,defaultMatchWidth:"any",parsePatterns:Zl,defaultParseWidth:"any"})};var Sa={code:"en-US",formatDistance:Ur,formatLong:Yr,formatRelative:qr,localize:Gr,match:Qr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $r(n,a,e){let t=Ar(),i=e?.locale??t.locale??Sa,o=2520,c=ki(n,a);if(isNaN(c))throw new RangeError("Invalid time value");let p=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:c}),[P,M]=xi(e?.in,...c>0?[a,n]:[n,a]),B=Hr(M,P),ie=(Da(M)-Da(P))/1e3,R=Math.round((B-ie)/60),je;if(R<2)return e?.includeSeconds?B<5?i.formatDistance("lessThanXSeconds",5,p):B<10?i.formatDistance("lessThanXSeconds",10,p):B<20?i.formatDistance("lessThanXSeconds",20,p):B<40?i.formatDistance("halfAMinute",0,p):B<60?i.formatDistance("lessThanXMinutes",1,p):i.formatDistance("xMinutes",1,p):R===0?i.formatDistance("lessThanXMinutes",1,p):i.formatDistance("xMinutes",R,p);if(R<45)return i.formatDistance("xMinutes",R,p);if(R<90)return i.formatDistance("aboutXHours",1,p);if(R<Pa){let ze=Math.round(R/60);return i.formatDistance("aboutXHours",ze,p)}else{if(R<o)return i.formatDistance("xDays",1,p);if(R<qi){let ze=Math.round(R/Pa);return i.formatDistance("xDays",ze,p)}else if(R<qi*2)return je=Math.round(R/qi),i.formatDistance("aboutXMonths",je,p)}if(je=zr(M,P),je<12){let ze=Math.round(R/qi);return i.formatDistance("xMonths",ze,p)}else{let ze=je%12,ut=Math.trunc(je/12);return ze<3?i.formatDistance("aboutXYears",ut,p):ze<9?i.formatDistance("overXYears",ut,p):i.formatDistance("almostXYears",ut+1,p)}}function Kr(n,a){return $r(n,Fr(n),a)}function Jl(n,a){if(n&1){let e=k();r(0,"img",8),g("error",function(){f(e);let i=m();return b(i.onImageError())}),s()}if(n&2){let e=m();h("src","https://image.tmdb.org/t/p/w200"+e.cast().profile_path,Bt)("alt",e.cast().name||"Unknown")}}function ed(n,a){n&1&&(r(0,"div",4)(1,"mat-icon"),d(2,"person"),s()())}var On=class n{cast=Ee.required();isHovered=S(!1);imageError=S(!1);onImageError(){this.imageError.set(!0)}onMouseEnter(){this.isHovered.set(!0)}onMouseLeave(){this.isHovered.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-casts-card"]],inputs:{cast:[1,"cast"]},standalone:!0,features:[w],decls:12,vars:5,consts:[[1,"cast-card-container",3,"mouseenter","mouseleave"],[1,"cast-card"],[1,"poster-container"],[1,"cast-poster",3,"src","alt"],[1,"placeholder-photo"],[1,"cast-title"],[1,"cast-character"],[1,"italic-text"],[1,"cast-poster",3,"error","src","alt"]],template:function(e,t){e&1&&(r(0,"div",0),g("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),r(1,"mat-card",1)(2,"div",2),_(3,Jl,1,2,"img",3)(4,ed,3,0,"div",4),s(),r(5,"mat-card-content")(6,"h3",5),d(7),s(),r(8,"p",6)(9,"span",7),d(10,"as"),s(),d(11),s()()()()),e&2&&(l(),I("hovered",t.isHovered()),l(2),v(t.cast().profile_path?3:4),l(4),O(t.cast().name),l(4),L("",t.cast().character," "))},dependencies:[se,Qo,Go,Wo,ye,ce,Se,pi,hi],styles:[".cast-card-container[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease;height:100%}.cast-card-container[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.cast-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:box-shadow .3s ease}.cast-card.hovered[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0003}.poster-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;aspect-ratio:2/3}.poster-container[_ngcontent-%COMP%]   .cast-poster[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.poster-container[_ngcontent-%COMP%]   .placeholder-photo[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#e0e0e0}.poster-container[_ngcontent-%COMP%]   .placeholder-photo[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#9e9e9e}mat-card-content[_ngcontent-%COMP%]{padding:16px;flex-grow:1;text-align:center}mat-card-content[_ngcontent-%COMP%]   .cast-title[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500;font-size:16px;line-height:1.2;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-clamp:2;-webkit-line-clamp:2;-webkit-box-orient:vertical}mat-card-content[_ngcontent-%COMP%]   .cast-character[_ngcontent-%COMP%]{margin:0;color:#a9a8a899;font-size:14px}mat-card-content[_ngcontent-%COMP%]   .italic-text[_ngcontent-%COMP%]{font-size:9px;font-style:italic;margin-right:4px}@media (max-width: 599px){.cast-card-container[_ngcontent-%COMP%]:hover{transform:none}.poster-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{opacity:1;background:#00000080}}"]})};var id=["mat-menu-item",""],nd=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ad=["mat-icon, [matMenuItemIcon]","*"];function od(n,a){n&1&&(qe(),r(0,"svg",2),y(1,"polygon",3),s())}var rd=["*"];function sd(n,a){if(n&1){let e=k();r(0,"div",0),g("keydown",function(i){f(e);let o=m();return b(o._handleKeydown(i))})("click",function(){f(e);let i=m();return b(i.closed.emit("click"))})("@transformMenu.start",function(i){f(e);let o=m();return b(o._onAnimationStart(i))})("@transformMenu.done",function(i){f(e);let o=m();return b(o._onAnimationDone(i))}),r(1,"div",1),re(2),s()()}if(n&2){let e=m();Pe(e._classList),h("id",e.panelId)("@transformMenu",e._panelAnimationState),E("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Ia=new G("MAT_MENU_PANEL"),yt=(()=>{class n{constructor(e,t,i,o,c){this._elementRef=e,this._document=t,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=c,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new ee,this._focused=new ee,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Ae),u(Vi),u(Ia,8),u(Q))}}static{this.\u0275cmp=x({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&g("click",function(c){return i._checkDisabled(c)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&(E("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),I("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",T],disableRipple:[2,"disableRipple","disableRipple",T]},exportAs:["matMenuItem"],standalone:!0,features:[oe,w],attrs:id,ngContentSelectors:ad,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&(de(nd),re(0),r(1,"span",0),re(2,1),s(),y(3,"div",1),_(4,od,2,0,":svg:svg",2)),t&2&&(l(3),h("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l(),v(i._triggersSubmenu?4:-1))},dependencies:[st],encapsulation:2,changeDetection:0})}}return n})();var cd=new G("MatMenuContent");var Dn={transformMenu:be("transformMenu",[Oe("void",V({opacity:0,transform:"scale(0.8)"})),X("void => enter",q("120ms cubic-bezier(0, 0, 0.2, 1)",V({opacity:1,transform:"scale(1)"}))),X("* => void",q("100ms 25ms linear",V({opacity:0})))]),fadeInItems:be("fadeInItems",[Oe("showing",V({opacity:1})),X("void => *",[V({opacity:0}),q("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},P0=Dn.fadeInItems,O0=Dn.transformMenu,ld=0,dd=new G("mat-menu-default-options",{providedIn:"root",factory:md});function md(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Xe=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass,i=Mt({},this._classList);t&&t.length&&t.split(" ").forEach(o=>{i[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{i[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,t,i,o){this._elementRef=e,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Ai,this._classList={},this._panelAnimationState="void",this._animationDone=new ee,this.closed=new D,this.close=this.closed,this.panelId=`mat-menu-panel-${ld++}`,this._injector=C(Ze),this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new nn(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ue(this._directDescendantItems),_t(e=>He(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),o=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[o]&&!i[o].disabled?t.setActiveItem(o):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Ue(this._directDescendantItems),_t(t=>He(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:tt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=bt(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let p=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(p)}let t=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${t}`,o=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){let c=Mt({},this._classList);this._previousElevation&&(c[this._previousElevation]=!1),c[i]=!0,this._previousElevation=i,this._classList=c}}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=Gi(Mt({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ue(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(me),u(dd),u(Q))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-menu"]],contentQueries:function(t,i,o){if(t&1&&(fe(o,cd,5),fe(o,yt,5),fe(o,yt,4)),t&2){let c;A(c=F())&&(i.lazyContent=c.first),A(c=F())&&(i._allItems=c),A(c=F())&&(i.items=c)}},viewQuery:function(t,i){if(t&1&&z(Je,5),t&2){let o;A(o=F())&&(i.templateRef=o.first)}},hostVars:3,hostBindings:function(t,i){t&2&&E("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",T],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:T(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[pe([{provide:Ia,useExisting:n}]),oe,w],ngContentSelectors:rd,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&(de(),_(0,sd,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Dn.transformMenu,Dn.fadeInItems]},changeDetection:0})}}return n})(),Zr=new G("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Ve);return()=>n.scrollStrategies.reposition()}});function pd(n){return()=>n.scrollStrategies.reposition()}var hd={provide:Zr,deps:[Ve],useFactory:pd},Xr=rt({passive:!0});var Vt=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,t,i,o,c,p,P,M,B){this._overlay=e,this._element=t,this._viewContainerRef=i,this._menuItemInstance=p,this._dir=P,this._focusMonitor=M,this._ngZone=B,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=le.EMPTY,this._hoverSubscription=le.EMPTY,this._menuCloseSubscription=le.EMPTY,this._changeDetectorRef=C(Q),this._handleTouchStart=ie=>{wo(ie)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new D,this.onMenuOpen=this.menuOpened,this.menuClosed=new D,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=c instanceof Xe?c:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,Xr)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Xr),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let t=this._createOverlay(e),i=t.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Xe&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Ce(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof Xe?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Te(i=>i.toState==="void"),Ii(1),Ce(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let t=0,i=e.parentMenu;for(;i;)t++,i=i.parentMenu;e.setElevation(t)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Ri({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{let o=i.connectionPair.overlayX==="start"?"after":"before",c=i.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,c)):e.setPositionClasses(o,c)})}_setPosition(e,t){let[i,o]=e.xPosition==="before"?["end","start"]:["start","end"],[c,p]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[P,M]=[c,p],[B,ie]=[i,o],R=0;if(this.triggersSubmenu()){if(ie=i=e.xPosition==="before"?"start":"end",o=B=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let je=this._parentMaterialMenu.items.first;this._parentInnerPadding=je?je._getHostElement().offsetTop:0}R=c==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(P=c==="top"?"bottom":"top",M=p==="top"?"bottom":"top");t.withPositions([{originX:i,originY:P,overlayX:B,overlayY:c,offsetY:R},{originX:o,originY:P,overlayX:ie,overlayY:c,offsetY:R},{originX:i,originY:M,overlayX:B,overlayY:p,offsetY:-R},{originX:o,originY:M,overlayX:ie,overlayY:p,offsetY:-R}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:ve(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Te(c=>c!==this._menuItemInstance),Te(()=>this._menuOpen)):ve();return He(e,i,o,t)}_handleMousedown(e){ko(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Te(e=>e===this._menuItemInstance&&!e.disabled),Gn(0,qn)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Xe&&this.menu._isAnimating?this.menu._animationDone.pipe(Ii(1),Gn(0,qn),Ce(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Fi(e.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(t){return new(t||n)(u(Ve),u(Y),u(ft),u(Zr),u(Ia,8),u(yt,10),u(Re,8),u(Vi),u(me))}}static{this.\u0275dir=te({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&g("click",function(c){return i._handleClick(c)})("mousedown",function(c){return i._handleMousedown(c)})("keydown",function(c){return i._handleKeydown(c)}),t&2&&E("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return n})(),Lt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({providers:[hd],imports:[se,oi,U,ai,ni,U]})}}return n})();var gd=(n,a)=>a.index,Ta=(n,a)=>a.id,fd=(n,a)=>a.replyId,Jr=()=>({isZeroReviews:!0,mode:"new"}),Tn=()=>["1","2"],bd=()=>({mode:"edit"}),vd=()=>[1,2,3,4,5],es=n=>({mode:"new",review:n}),Cd=(n,a)=>({mode:"edit",review:n,reply:a});function yd(n,a){n&1&&(r(0,"div",5),y(1,"mat-spinner",7),s())}function Md(n,a){if(n&1&&(r(0,"div",6)(1,"h2"),d(2),s(),r(3,"button",8),d(4,"Go Home"),s()()),n&2){let e=m();l(2),O(e.error())}}function xd(n,a){if(n&1&&y(0,"img",11),n&2){let e=m(2);h("src",e.backdropUrl(),Bt)}}function kd(n,a){if(n&1&&(Ji(0),qe(),r(1,"svg",43)(2,"defs")(3,"linearGradient",44),y(4,"stop",45)(5,"stop",45)(6,"stop",46)(7,"stop",46),s()(),y(8,"path",47),s(),en()),n&2){let e=a.$implicit;l(3),E("id","grad"+e.index),l(),E("offset","0%"),l(),E("offset",e.fill+"%"),l(),E("offset",e.fill+"%"),l(),E("offset","100%"),l(),E("fill","url(#grad"+e.index+")")}}function wd(n,a){if(n&1&&y(0,"app-card-icons",31),n&2){let e=m(2);h("movie",e.movie())("showLabels",!0)}}function Pd(n,a){if(n&1){let e=k();r(0,"button",48),g("click",function(){f(e);let i=m(2);return b(i.playtrailer())}),r(1,"mat-icon"),d(2,"play_arrow"),s(),d(3," Play Trailer "),s()}}function Od(n,a){if(n&1&&y(0,"app-casts-card",50),n&2){let e=a.$implicit;h("cast",e)}}function Dd(n,a){if(n&1){let e=k();r(0,"div",49),Z(1,Od,1,1,"app-casts-card",50,Ta),s(),r(3,"div",51)(4,"button",52),g("click",function(){f(e);let i=m(2);return b(i.toggleCastList())}),d(5),s()()}if(n&2){let e=m(2);l(),J(e.fullCast()),l(4),L(" ",e.showFullCast()?"Show Less":"View Full Cast & Crew"," ")}}function Sd(n,a){n&1&&(r(0,"p"),d(1,"No cast information available"),s())}function Id(n,a){if(n&1&&(r(0,"mat-tab",38)(1,"div",36)(2,"div",53),y(3,"iframe",54),s()()()),n&2){let e=m(2);l(3),h("src",e.trailerUrl(),Ua)}}function Td(n,a){if(n&1){let e=k();r(0,"p"),d(1,"No reviews yet"),s(),r(2,"app-custom-button",55),g("buttonClick",function(){f(e);let i=m(3);return b(i.isReviewingMovie.set(!0))}),s()}}function Ed(n,a){n&1&&Nt(0)}function Ad(n,a){if(n&1&&_(0,Ed,1,0,"ng-container",56),n&2){m(3);let e=W(5);h("ngTemplateOutlet",e)("ngTemplateOutletContext",vt(2,Jr))}}function Fd(n,a){if(n&1&&(r(0,"div",40),_(1,Td,3,0)(2,Ad,1,3,"ng-container"),s()),n&2){let e=m(2);l(),v(!e.isReviewingMovie()&&!e.isAdmin()?1:e.isAdmin()?-1:2)}}function Rd(n,a){n&1&&Nt(0)}function Vd(n,a){if(n&1&&(_(0,Rd,1,0,"ng-container",56),r(1,"div",57),y(2,"mat-divider"),s()),n&2){m(3);let e=W(5);h("ngTemplateOutlet",e)("ngTemplateOutletContext",vt(2,Jr))}}function Ld(n,a){n&1&&Nt(0)}function Bd(n,a){if(n&1&&_(0,Ld,1,0,"ng-container",56),n&2){m(4);let e=W(5);h("ngTemplateOutlet",e)("ngTemplateOutletContext",vt(2,bd))}}function Nd(n,a){n&1&&(r(0,"div",66)(1,"mat-icon"),d(2,"block"),s(),r(3,"span")(4,"em"),d(5,"This review has been flagged as inappropriate."),s()()())}function jd(n,a){if(n&1&&(r(0,"span",67),d(1),s()),n&2){let e=m(2).$implicit;l(),O(e.text)}}function zd(n,a){if(n&1&&(Ji(0),r(1,"mat-icon"),d(2),s(),en()),n&2){let e=a.$implicit,t=m(2).$implicit;l(2),L(" ",t.rating>=e?"star":t.rating>=e-.5?"star_half":"star_border"," ")}}function Hd(n,a){if(n&1&&(r(0,"div",70)(1,"button",72)(2,"mat-icon"),d(3,"more_vert"),s()()()),n&2){m(2);let e=W(3);l(),h("matMenuTriggerFor",e)}}function Ud(n,a){n&1&&Nt(0)}function Yd(n,a){if(n&1&&_(0,Ud,1,0,"ng-container",56),n&2){let e=m(3).$implicit;m(3);let t=W(7);h("ngTemplateOutlet",t)("ngTemplateOutletContext",et(2,es,e))}}function qd(n,a){if(n&1){let e=k();r(0,"button",74),g("click",function(){f(e);let i=m(4).$implicit,o=m(3);return b(o.commentingOn.set(i.id))}),d(1,"Reply"),s()}}function Gd(n,a){if(n&1){let e=k();r(0,"div",73),_(1,qd,2,0,"button"),r(2,"button",74),g("click",function(){f(e);let i=m(3).$implicit,o=m(3);return b(o.toggleReplies(i.id))}),d(3),s()()}if(n&2){let e=m(3).$implicit,t=m(3);l(),v(t.viewReplies()!==e.id&&t.isReplyAllowed(e)&&!t.isAdmin()?1:-1),l(2),L(" ",t.viewReplies()===e.id?"Hide Replies":"View Replies ("+e.replies.length+")"," ")}}function Wd(n,a){n&1&&Nt(0)}function Qd(n,a){if(n&1&&_(0,Wd,1,0,"ng-container",56),n&2){let e=m().$implicit,t=m(4).$implicit;m(3);let i=W(7);h("ngTemplateOutlet",i)("ngTemplateOutletContext",tn(2,Cd,t,e))}}function $d(n,a){n&1&&(r(0,"div",66)(1,"mat-icon"),d(2,"block"),s(),r(3,"span")(4,"em"),d(5,"This reply has been flagged as inappropriate."),s()()())}function Kd(n,a){if(n&1&&(r(0,"p"),d(1),s()),n&2){let e=m(2).$implicit;l(),O(e.replyText)}}function Xd(n,a){if(n&1&&(r(0,"div",70)(1,"button",72)(2,"mat-icon"),d(3,"more_vert"),s()()()),n&2){m(2);let e=W(3);l(),h("matMenuTriggerFor",e)}}function Zd(n,a){if(n&1&&(r(0,"div",75),y(1,"app-user-avatar",61),r(2,"div",76)(3,"div",77)(4,"span",78),d(5),s(),r(6,"span",79),d(7),s()(),_(8,$d,6,0,"div",66)(9,Kd,2,1,"p"),s(),_(10,Xd,4,1,"div",70),s()),n&2){let e,t=m().$implicit,i=m(7);l(),h("user",t.replyUser)("size",40),l(4),O(t.replyUser.name),l(2),O(i.formatDistanceToNow(t.replyDate)),l(),v(t.flagged?8:9),l(2),v(t.replyUser.email===((e=i.currentUser())==null?null:e.email)||vt(6,Tn).includes((e=i.userPrivilege())!==null&&e!==void 0?e:"")||i.isAdmin()?10:-1)}}function Jd(n,a){if(n&1){let e=k();r(0,"button",80),g("click",function(){f(e);let i=m().$implicit,o=m(7);return b(o.onEditReply(i))}),r(1,"mat-icon"),d(2,"edit"),s(),r(3,"span"),d(4,"Edit"),s()(),r(5,"button",80),g("click",function(){f(e);let i=m().$implicit,o=m(4).$implicit,c=m(3);return b(c.deleteReply(o.id,i.replyId))}),r(6,"mat-icon"),d(7,"delete"),s(),r(8,"span"),d(9,"Delete"),s()()}}function em(n,a){if(n&1){let e=k();r(0,"button",80),g("click",function(){f(e);let i=m(2).$implicit,o=m(4).$implicit,c=m(3);return b(c.handleFlagReply(o.id,i.replyId,!1))}),r(1,"mat-icon"),d(2,"check_circle"),s(),r(3,"span"),d(4,"Unflag"),s()()}}function tm(n,a){if(n&1){let e=k();r(0,"button",80),g("click",function(){f(e);let i=m(2).$implicit,o=m(4).$implicit,c=m(3);return b(c.handleFlagReply(o.id,i.replyId,!0))}),r(1,"mat-icon"),d(2,"block"),s(),r(3,"span"),d(4,"Flag"),s()()}}function im(n,a){if(n&1&&_(0,em,5,0,"button",81)(1,tm,5,0,"button",81),n&2){let e=m().$implicit;v(e.flagged?0:1)}}function nm(n,a){if(n&1&&(_(0,Qd,1,5,"ng-container")(1,Zd,11,7,"div",75),r(2,"mat-menu",null,3),_(4,Jd,10,0)(5,im,2,1),s()),n&2){let e,t,i=a.$implicit,o=m(7);v(o.replyBeingEdited===i.replyId?0:1),l(4),v(i.replyUser.email===((e=o.currentUser())==null?null:e.email)?4:-1),l(),v((vt(3,Tn).includes((t=o.userPrivilege())!==null&&t!==void 0?t:"")||o.isAdmin())&&i.replyUser.email!==((t=o.currentUser())==null?null:t.email)?5:-1)}}function am(n,a){if(n&1&&Z(0,nm,6,4,"mat-menu",null,fd),n&2){let e=m(3).$implicit,t=m(3);J(t.getSortedReplies(e))}}function om(n,a){if(n&1&&_(0,Yd,1,4,"ng-container")(1,Gd,4,2,"div",73)(2,am,2,0),n&2){let e=m(2).$implicit,t=m(3);v(t.commentingOn()===e.id?0:1),l(2),v(t.viewReplies()===e.id?2:-1)}}function rm(n,a){n&1&&Nt(0)}function sm(n,a){if(n&1&&_(0,rm,1,0,"ng-container",56),n&2){let e=m(3).$implicit;m(3);let t=W(7);h("ngTemplateOutlet",t)("ngTemplateOutletContext",et(2,es,e))}}function cm(n,a){if(n&1){let e=k();r(0,"button",74),g("click",function(){f(e);let i=m(4).$implicit,o=m(3);return b(o.commentingOn.set(i.id))}),d(1,"Reply"),s()}}function lm(n,a){if(n&1&&(r(0,"div",73),_(1,cm,2,0,"button"),s()),n&2){let e=m(3).$implicit,t=m(3);l(),v(t.viewReplies()!==e.id&&t.isReplyAllowed(e)&&!t.isAdmin()?1:-1)}}function dm(n,a){if(n&1&&_(0,sm,1,4,"ng-container")(1,lm,2,1,"div",73),n&2){let e=m(2).$implicit,t=m(3);v(t.commentingOn()===e.id?0:1)}}function mm(n,a){if(n&1&&(r(0,"div",58)(1,"div",59)(2,"div",60),y(3,"app-user-avatar",61),r(4,"div",62)(5,"div",63)(6,"span",64),d(7),s(),r(8,"span",65),d(9),s()(),_(10,Nd,6,0,"div",66)(11,jd,2,1,"span",67),r(12,"div",68),_(13,zd,3,1,"ng-container",69),s()()(),_(14,Hd,4,1,"div",70),s(),r(15,"div",71),_(16,om,3,2)(17,dm,2,1),s()()),n&2){let e,t=m().$implicit,i=m(3);l(3),h("user",t.user)("size",60),l(4),O(t.user.name),l(2),O(i.formatDistanceToNow(t.updatedAt)),l(),v(t.flagged?10:11),l(3),h("ngForOf",vt(8,vd)),l(),v(t.user.email===((e=i.currentUser())==null?null:e.email)||vt(9,Tn).includes((e=i.userPrivilege())!==null&&e!==void 0?e:"")||i.isAdmin()?14:-1),l(2),v(t.replies.length>0?16:17)}}function pm(n,a){if(n&1){let e=k();r(0,"button",80),g("click",function(){f(e);let i=m().$implicit,o=m(3);return b(o.onEditReview(i))}),r(1,"mat-icon"),d(2,"edit"),s(),r(3,"span"),d(4,"Edit"),s()(),r(5,"button",80),g("click",function(){f(e);let i=m().$implicit,o=m(3);return b(o.deleteReview(i.id))}),r(6,"mat-icon"),d(7,"delete"),s(),r(8,"span"),d(9,"Delete"),s()()}}function hm(n,a){if(n&1){let e=k();r(0,"button",80),g("click",function(){f(e);let i=m(2).$implicit,o=m(3);return b(o.handleFlagReview(i.id,!1))}),r(1,"mat-icon"),d(2,"check_circle"),s(),r(3,"span"),d(4,"Unflag"),s()()}}function um(n,a){if(n&1){let e=k();r(0,"button",80),g("click",function(){f(e);let i=m(2).$implicit,o=m(3);return b(o.handleFlagReview(i.id,!0))}),r(1,"mat-icon"),d(2,"block"),s(),r(3,"span"),d(4,"Flag"),s()()}}function _m(n,a){if(n&1&&_(0,hm,5,0,"button",81)(1,um,5,0,"button",81),n&2){let e=m().$implicit;v(e.flagged?0:1)}}function gm(n,a){if(n&1&&(_(0,Bd,1,3,"ng-container")(1,mm,18,10,"div",58),r(2,"mat-menu",null,2),_(4,pm,10,0)(5,_m,2,1),s()),n&2){let e,t,i=a.$implicit,o=m(3);v(o.isReviewingMovie()&&i.id===o.reviewBeingEdited?0:1),l(4),v(i.user.email===((e=o.currentUser())==null?null:e.email)?4:-1),l(),v((vt(3,Tn).includes((t=o.userPrivilege())!==null&&t!==void 0?t:"")||o.isAdmin())&&i.user.email!==((t=o.currentUser())==null?null:t.email)?5:-1)}}function fm(n,a){if(n&1&&(_(0,Vd,3,3),r(1,"div",41),Z(2,gm,6,4,"mat-menu",null,Ta),s()),n&2){let e=m(2);v(e.isNewReviewAllow()?0:-1),l(2),J(e.reviews())}}function bm(n,a){if(n&1&&y(0,"app-movie-card",84),n&2){let e=a.$implicit;h("movie",e)}}function vm(n,a){if(n&1&&(r(0,"mat-tab",82)(1,"div",36)(2,"div",83),Z(3,bm,1,1,"app-movie-card",84,Ta),s()()()),n&2){let e=m(2);l(3),J(e.similarMovies())}}function Cm(n,a){if(n&1){let e=k();r(0,"div",9)(1,"div",10),_(2,xd,1,1,"img",11),y(3,"div",12),s(),r(4,"div",13)(5,"div",14)(6,"div",15),y(7,"img",16),s()(),r(8,"div",17)(9,"h1",18),d(10),r(11,"span",19),d(12),s()(),r(13,"p",20),d(14),s(),r(15,"div",21)(16,"div",22),Z(17,kd,9,6,"ng-container",null,gd),s(),r(19,"span",23),d(20),s()(),r(21,"div",24)(22,"span",25),d(23,"Genres: "),s(),r(24,"span",26),d(25),s()(),r(26,"div",24)(27,"span",25),d(28),s(),r(29,"span",26),d(30),s()(),r(31,"div",24)(32,"span",25),d(33,"Release Date: "),s(),r(34,"span",26),d(35),Jt(36,"date"),s()(),r(37,"div",24)(38,"span",25),d(39,"Status: "),s(),r(40,"span",26),d(41),s()(),r(42,"div",27)(43,"span",28),d(44,"Overview"),s(),r(45,"p",29),d(46),s()(),r(47,"div",30),_(48,wd,1,2,"app-card-icons",31),s(),r(49,"div"),_(50,Pd,4,0,"button",32),s()()()(),r(51,"div",33)(52,"mat-tab-group",34),g("selectedIndexChange",function(i){f(e);let o=m();return b(o.changeTab(i))}),r(53,"mat-tab",35)(54,"div",36)(55,"div",37),_(56,Dd,6,1)(57,Sd,2,0,"p"),s()()(),_(58,Id,4,1,"mat-tab",38),r(59,"mat-tab",39)(60,"div",36),_(61,Fd,3,1,"div",40)(62,fm,4,1,"div",41),s()(),_(63,vm,5,0,"mat-tab",42),s()()}if(n&2){let e,t,i,o,c,p,P,M=m();l(2),v(M.backdropUrl()?2:-1),l(5),h("src",M.posterUrl()||"movie-placeholder.jpg",Bt)("alt",((e=M.movie())==null?null:e.title)||((e=M.movie())==null?null:e.name)+" poster"),l(3),L(" ",((t=M.movie())==null?null:t.title)||((t=M.movie())==null?null:t.name)," "),l(2),O("("+M.releaseYear()+")"),l(2),O((i=M.movie())==null?null:i.tagline),l(3),J(M.stars),l(3),O(((((o=M.movie())==null?null:o.vote_average)||0)/2).toFixed(1)),l(5),O(M.genres()),l(3),O(M.mediaType()==="movie"?"Runtime: ":"Seasons & Episodes: "),l(2),O(M.mediaType()==="movie"?M.runtime():M.seasons()),l(5),O(ei(36,20,((c=M.movie())==null?null:c.release_date)||((c=M.movie())==null?null:c.first_air_date),"MMM d, yyyy")),l(6),O((p=M.movie())==null?null:p.status),l(5),O((P=M.movie())==null?null:P.overview),l(2),v(M.isLoggedIn()?48:-1),l(2),v(M.trailerUrl()?50:-1),l(2),h("selectedIndex",M.activeTab()),l(4),v(M.casts()&&M.casts().length>0?56:57),l(2),v(M.trailerUrl()?58:-1),l(3),v(M.reviews().length===0?61:62),l(2),h("ngIf",M.similarMovies().length>0)}}function ym(n,a){if(n&1){let e=k();Ji(0),r(1,"mat-icon",94),g("click",function(){let i=f(e).index,o=m(2);return b(o.setRating(i+1))})("mouseenter",function(){let i=f(e).index,o=m(2);return b(o.hoverRating=i+1)}),d(2),s(),en()}if(n&2){let e=a.index,t=m(2);l(),I("filled",t.getStarFill(e)),l(),L(" ",t.getStarIcon(e)," ")}}function Mm(n,a){if(n&1){let e=k();r(0,"div",85)(1,"mat-form-field",86)(2,"mat-label"),d(3,"Your Review"),s(),r(4,"textarea",87),Ut("ngModelChange",function(i){f(e);let o=m();return Ht(o.newReview,i)||(o.newReview=i),b(i)}),s()(),r(5,"div",88)(6,"div",89)(7,"div",90),g("mouseleave",function(){f(e);let i=m();return b(i.resetHover())}),_(8,ym,3,3,"ng-container",69),s()(),r(9,"div",91)(10,"app-custom-button",92),g("buttonClick",function(){f(e);let i=m();return b(i.onCancelReview())}),s(),r(11,"app-custom-button",93),g("buttonClick",function(){let i=f(e),o=i.mode,c=i.isZeroReviews,p=m();return b(o==="edit"?p.editReview(p.reviewBeingEdited):p.handleReview(c))}),s()()()()}if(n&2){let e=a.mode,t=m();l(4),zt("ngModel",t.newReview),h("placeholder",e==="edit"?"Update your thoughts...":"Write your thoughts..."),l(4),h("ngForOf",t.ratingStars),l(3),h("text",e==="edit"?"Update":"Submit")}}function xm(n,a){if(n&1){let e=k();r(0,"div",95)(1,"mat-form-field",96)(2,"input",97),Ut("ngModelChange",function(i){f(e);let o=m();return Ht(o.newReply,i)||(o.newReply=i),b(i)}),s()(),r(3,"div",98)(4,"button",99),g("click",function(){f(e);let i=m();return b(i.cancelReply())}),d(5,"Cancel"),s(),r(6,"button",52),g("click",function(){let i=f(e),o=i.review,c=i.mode,p=i.reply,P=m();return b(c==="new"?P.handleReplyReview(o.id):P.editReply(o.id,p.replyId))}),d(7),s()()()}if(n&2){let e=a.mode,t=m();l(2),h("placeholder",e==="new"?"Write a reply...":"Update your reply..."),zt("ngModel",t.newReply),l(5),L(" ",e==="new"?"Reply":"Update"," ")}}var In=class n{router=C(K);route=C(ii);movieService=C(li);authService=C(H);userService=C(Dt);reviewService=C(Ho);snackbarService=C(Me);sanitizer=C(oo);queryParamSub;currentUser=$(()=>this.authService.getUser());userPrivilege=$(()=>this.userService.getUserPrivilege());isAdmin=$(()=>!!this.authService.isAdminLoggedIn());movie=S(null);movieId="";mediaType=S("");videos=S([]);similarMovies=S([]);casts=S([]);fullCast=S([]);loading=S(!0);error=S(null);activeTab=S(0);showFullCast=S(!1);isPlayTrailer=S(!1);reviews=$(()=>this.reviewService.getReviews());isReviewingMovie=S(!1);newReview="";ratingStars=[1,2,3,4,5];newRating=0;hoverRating=0;reviewBeingEdited="";replyBeingEdited="";commentingOn=S(null);viewReplies=S(null);newReply="";trailerUrl=$(()=>{let a=this.videos().find(i=>i.type==="Trailer"&&i.site==="YouTube");if(!a)return null;let e=`https://www.youtube.com/embed/${a.key}`,t=this.isPlayTrailer()?e+"?autoplay=1&mute=1":e;return this.sanitizer.bypassSecurityTrustResourceUrl(t)});backdropUrl=$(()=>!this.movie()||!this.movie()?.backdrop_path?null:`https://image.tmdb.org/t/p/original${this.movie()?.backdrop_path}`);posterUrl=$(()=>!this.movie()||!this.movie()?.poster_path?"/assets/images/no-poster.jpg":`https://image.tmdb.org/t/p/w500${this.movie()?.poster_path}`);releaseYear=$(()=>{let a=this.movie();if(!a)return"";let e=a.release_date||a.first_air_date;return e?new Date(e).getFullYear():""});runtime=$(()=>{let a=this.movie();if(!a||!a.runtime)return"N/A";if(this.mediaType()==="movie"){let e=Math.floor(a.runtime/60),t=a.runtime%60;return`${e}h ${t}m`}return null});seasons=$(()=>this.movie()?.number_of_seasons+" Seasons "+this.movie()?.number_of_episodes+" Episodes");genres=$(()=>{let a=this.movie();return!a||!a.runtime?"N/A":a.genres?.map(e=>e.name).join(", ")});isLoggedIn=$(()=>this.authService.isLoggedIn());constructor(){this.queryParamSub=this.route.queryParamMap.subscribe(a=>{let e=a.get("media_type");this.mediaType.set(e||"movie"),e&&localStorage.setItem("media_type",e)})}ngOnInit(){this.route.paramMap.pipe(_t(a=>{let e=a.get("id");return e?(this.movieId=e,this.loading.set(!0),this.error.set(null),this.movieService.fetchMovieDetails(e,this.mediaType()).pipe(Zt(t=>{this.movie.set(t),this.loadVideos(e,this.mediaType()),this.loadCasts(e,this.mediaType()),this.loadReviews(e),this.loadSimilarMovies(e,this.mediaType())}),$i(t=>(this.error.set("Failed to load movie details"),ve(null))))):(this.error.set("Movie ID not found"),ve(null))})).subscribe({next:()=>this.loading.set(!1),error:()=>{this.loading.set(!1),this.error.set("An error occurred while loading the movie")}})}ngOnDestroy(){localStorage.removeItem("media_type"),this.queryParamSub.unsubscribe()}loadVideos(a,e){this.movieService.fetchVideos(a,e).subscribe({next:t=>this.videos.set(t),error:()=>console.error("Failed to load videos")})}loadReviews(a){this.reviewService.fetchReviews(a).subscribe({error:()=>console.error("Failed to load reviews")})}loadSimilarMovies(a,e){this.movieService.fetchSimilarMovies(a,e).subscribe({next:t=>{if(t.length===0){let i=[28,12,53,80,14],o=this.movie()?.genre_ids?.[0]??this.pickRandomNumber(i);this.movieService.fetchMoviesByGenre(o).subscribe({next:c=>this.similarMovies.set(c)})}else this.similarMovies.set(t)},error:()=>console.error("Failed to load similar movies")})}loadCasts(a,e){this.movieService.fetchCast(a,e).subscribe({next:t=>{this.casts.set(t),this.fullCast.set(t.slice(0,Math.min(5,t.length)))},error:()=>console.error("Failed to load similar movies")})}changeTab(a){this.activeTab.set(a),console.log("user privilege: ",this.userPrivilege())}get stars(){let a=(this.movie()?.vote_average||0)/2,e=Math.floor(a),t=a-e;return Array.from({length:5}).map((i,o)=>{let c=0;return o<e?c=100:o===e&&(c=t*100),{index:o,fill:c}})}toggleCastList(){this.showFullCast.update(e=>!e);let a=this.showFullCast()?this.casts().length:5;this.fullCast.set(this.casts().slice(0,a))}pickRandomNumber(a){let e=Math.floor(Math.random()*a.length);return a[e]}handlePlayVideo(){let a=this.movie();a&&this.userService.addToWatchedList(a.id.toString(),a.title||a.name||"Unknown",a.media_type||"movie")}playtrailer(){this.changeTab(1),this.isPlayTrailer.set(!0)}formatDistanceToNow(a){return Kr(new Date(a),{addSuffix:!0})}userReviewIsAvailable(){return this.reviews().some(a=>a.user.email===this.currentUser()?.dateOfBirth)}setRating(a){this.userReviewIsAvailable()||(this.newRating=a)}resetHover(){this.hoverRating=0}getStarFill(a){return(this.hoverRating||this.newRating)>a}getStarIcon(a){return(this.hoverRating||this.newRating)>a?"star":"star_border"}handleReview(a=!1){if(a||this.isReviewingMovie()){let e=this.currentUser();if(!e){this.snackbarService.show("Oops, something went wrong. Please try again.","error");return}if(this.newRating===0){this.snackbarService.show("Please provide a rating.","error");return}let t={text:this.newReview.trim(),user:{name:e?.name,email:e?.email,image:e?.image},movieId:this.movieId,movieMediaType:this.mediaType(),rating:this.newRating,replies:[]};this.reviewService.postOrUpdateReview(t).subscribe(()=>{this.newReview="",this.isReviewingMovie.set(!1)})}else this.isReviewingMovie.set(!0)}onEditReview(a){this.newReview=a.text,this.newRating=a.rating,this.reviewBeingEdited=a.id,this.isReviewingMovie.set(!0)}onCancelReview(){this.newReview="",this.newRating=0,this.reviewBeingEdited="",this.isReviewingMovie.set(!1)}editReview(a){let e={text:this.newReview.trim(),rating:this.newRating};this.reviewService.postOrUpdateReview(e,a).subscribe(()=>{this.newReview="",this.isReviewingMovie.set(!1)})}handleFlagReview(a,e){let t={flagged:e};this.reviewService.postOrUpdateReview(t,a,!0).subscribe(()=>{})}deleteReview(a){this.reviewService.deleteReview(a).subscribe()}isNewReviewAllow(){return!this.reviews().some(a=>a.user.email===this.currentUser()?.email)}handleReplyReview(a){let e=this.currentUser(),t={replyText:this.newReply.trim(),replyUser:{name:e?.name,email:e?.email,image:e?.image},replyDate:new Date().toISOString()};this.reviewService.postOrUpdateReply(t,a).subscribe(()=>{this.newReply="",this.commentingOn.set(null)})}onEditReply(a){this.replyBeingEdited=a.replyId,this.newReply=a.replyText}editReply(a,e){let t={replyText:this.newReply.trim()};this.reviewService.postOrUpdateReply(t,a,e).subscribe(()=>{this.newReply="",this.commentingOn.set(null),this.replyBeingEdited=""})}cancelReply(){this.commentingOn.set(null),this.newReply="",this.replyBeingEdited=""}toggleReplies(a){this.viewReplies.set(this.viewReplies()===a?null:a)}getSortedReplies(a){return[...a.replies||[]].sort((e,t)=>new Date(t.replyDate).getTime()-new Date(e.replyDate).getTime())}isReplyAllowed(a){let e=this.currentUser();if(!e)return!1;let t=a.user.email!==e.email,i=!a.replies.some(c=>c.replyUser.email===e.email);return t&&i}deleteReply(a,e){this.reviewService.deleteReply(a,e).subscribe()}handleFlagReply(a,e,t){let i={flagged:t};this.reviewService.postOrUpdateReply(i,a,e,!0).subscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-movie-detail"]],standalone:!0,features:[w],decls:8,vars:1,consts:[["reviewForm",""],["replyForm",""],["reviewMenu","matMenu"],["replyMenu","matMenu"],[1,"movie-detail-container"],[1,"loading-container"],[1,"error-container"],["diameter","50"],["mat-raised-button","","color","primary","routerLink","/"],[1,"movie-detail"],[1,"backdrop"],["alt","",3,"src"],[1,"backdrop-overlay"],[1,"content-container"],[1,"poster-container"],[1,"poster"],[3,"src","alt"],[1,"details-container"],[1,"movie-title"],[1,"release-year"],[1,"tagline"],[1,"rating"],[1,"stars"],[1,"rating-value"],[1,"info-row"],[1,"label"],[1,"value"],[1,"overview"],[1,"section-title"],[1,"overview-text"],[1,"action-buttons"],["size","medium","direction","row",3,"movie","showLabels"],["mat-raised-button","","color","primary"],[1,"movie-tabs"],[3,"selectedIndexChange","selectedIndex"],["label","Casts & Crew"],[1,"tab-content"],[1,"details-section"],["label","Trailer"],["label","Reviews"],[1,"empty-reviews"],[1,"reviews-list"],["label","Recommendations",4,"ngIf"],["viewBox","0 0 24 24",1,"star"],["x1","0%","y1","0%","x2","100%","y2","0%"],["stop-color","#f5c518"],["stop-color","#e0e0e0"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["mat-raised-button","","color","primary",3,"click"],[1,"cast-list","grid-view"],[3,"cast"],[1,"button-wrapper"],["mat-button","","color","primary",3,"click"],[1,"trailer-container"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],["text","Write a review",3,"buttonClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"margin-b"],[1,"review-item"],[1,"review"],[1,"reviewer-info"],[3,"user","size"],[1,"reviewer-details"],[1,"review-header"],[1,"reviewer-name"],[1,"review-date"],[1,"flagged"],[1,"unflagged"],[1,"review-rating"],[4,"ngFor","ngForOf"],[1,"review-item-actions"],[1,"review-replies"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"reply-actions"],[3,"click"],[1,"reply-item"],[1,"reply-content"],[1,"reply-header"],[1,"reply-author"],[1,"reply-date"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["label","Recommendations"],[1,"similar-movies-grid"],[3,"movie"],[1,"review-form-container"],["appearance","outline",1,"review-input"],["matInput","","rows","2",3,"ngModelChange","ngModel","placeholder"],[1,"review-footer"],[1,"review-rating","mb"],[1,"star-rating",3,"mouseleave"],[1,"review-edit-actions"],["variant","secondary","text","Cancel",3,"buttonClick"],[3,"buttonClick","text"],[1,"star",3,"click","mouseenter"],[1,"reply-form"],["appearance","outline"],["matInput","",3,"ngModelChange","placeholder","ngModel"],[1,"btns"],["mat-button","",3,"click"]],template:function(e,t){e&1&&(r(0,"div",4),_(1,yd,2,0,"div",5)(2,Md,5,1,"div",6)(3,Cm,64,23),s(),_(4,Mm,12,4,"ng-template",null,0,Qn)(6,xm,8,3,"ng-template",null,1,Qn)),e&2&&(l(),v(t.loading()?1:t.error()?2:t.movie()?3:-1))},dependencies:[se,Za,Pt,Ja,ti,Se,Qt,$t,ye,ce,Ir,wa,Sr,Tr,mi,di,he,Qe,We,xe,$e,si,_e,ge,ln,Lt,Xe,yt,Vt,Rt,Ci,un,qo,On,Ot,ht],styles:[".movie-detail-container[_ngcontent-%COMP%]{position:relative;min-height:calc(100vh - 64px)}.movie-detail[_ngcontent-%COMP%]{position:relative;width:100%}.backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%}.backdrop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.backdrop[_ngcontent-%COMP%]   .backdrop-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#000000bf}.content-container[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:1200px;margin:0 auto;padding:2rem 1rem;display:flex;flex-direction:column;gap:3rem}@media (min-width: 768px){.content-container[_ngcontent-%COMP%]{flex-direction:row}}.poster-container[_ngcontent-%COMP%]{flex-shrink:0;margin-top:30px}.poster-container[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{width:16rem;height:auto;border-radius:.5rem;overflow:hidden;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:2px solid white}.poster-container[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.details-container[_ngcontent-%COMP%]{flex-grow:1;color:#fff}.details-container[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;margin-bottom:.25rem}.details-container[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]   .release-year[_ngcontent-%COMP%]{color:#cbd5e0}.details-container[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{color:#cbd5e0;font-style:italic;margin-bottom:1rem}.details-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem}.details-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex}.details-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.details-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   svg.star-filled[_ngcontent-%COMP%]{fill:#feb508}.details-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   svg.star-empty[_ngcontent-%COMP%]{fill:#a0aec0}.details-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{margin-left:.5rem;font-size:1.25rem}.details-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{margin-bottom:1rem}.details-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600}.details-container[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{margin-bottom:1rem}.details-container[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:600}.details-container[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .overview-text[_ngcontent-%COMP%]{margin-top:5px}.details-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem;margin-left:-12px}@media (max-width: 767px){.poster-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.poster-container[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{width:12rem}.action-buttons[_ngcontent-%COMP%]{justify-content:center}}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:calc(100vh - 64px);padding:32px;text-align:center}.loading-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px}.movie-tabs[_ngcontent-%COMP%]{background-color:transparent;padding:32px;max-width:1200px;min-height:600px;margin:0 auto;border-radius:8px;box-shadow:0 4px 8px #0000001a}.movie-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:24px 0}.movie-tabs[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{padding:40px;color:#fff}.movie-tabs[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .cast-list[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.movie-tabs[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .cast-list.grid-view[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:24px}.movie-tabs[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .cast-list[_ngcontent-%COMP%]   .placeholder-photo[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#e0e0e0}.movie-tabs[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .cast-list[_ngcontent-%COMP%]   .placeholder-photo[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:480px;width:48px;height:48px;color:#9e9e9e}.movie-tabs[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:24px}.movie-tabs[_ngcontent-%COMP%]   .trailer-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.movie-tabs[_ngcontent-%COMP%]   .trailer-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.movie-tabs[_ngcontent-%COMP%]   .empty-reviews[_ngcontent-%COMP%]{text-align:center;padding:32px}.movie-tabs[_ngcontent-%COMP%]   .empty-reviews[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;color:#faebd7}.movie-tabs[_ngcontent-%COMP%]   .empty-reviews[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.movie-tabs[_ngcontent-%COMP%]   .empty-reviews[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:16px}.movie-tabs[_ngcontent-%COMP%]   .empty-reviews[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:400}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .flagged[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#b00020}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .flagged[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .flagged[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{padding-bottom:24px;border-bottom:1px solid rgba(0,0,0,.1)}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:16px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-header[_ngcontent-%COMP%]   .reviewer-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-header[_ngcontent-%COMP%]   .review-date[_ngcontent-%COMP%]{background-color:#3e3e3e;border-radius:4px;padding:2px 8px;font-size:12px;color:#faebd7}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .unflagged[_ngcontent-%COMP%]{font-size:16px;color:#faebd7}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]{display:flex;align-items:center}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;margin-right:2px;line-height:18px;color:#ffc107}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:4px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-left:85px;margin-top:5px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:14px;margin-bottom:8px;padding:0}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:12px;margin-left:85px;margin-top:5px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .reply-content[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;flex:1}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .reply-content[_ngcontent-%COMP%]   .reply-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:16px;margin-bottom:8px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .reply-content[_ngcontent-%COMP%]   .reply-author[_ngcontent-%COMP%]{font-size:16px;font-weight:600;display:block;margin-bottom:4px;color:#fff}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .reply-content[_ngcontent-%COMP%]   .reply-date[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#3e3e3e;border-radius:4px;padding:1px 4px;font-size:12px;color:#faebd7}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .reply-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0;color:#a9a6a6}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]{align-items:flex-start;display:flex;flex-direction:column;margin-left:76px;margin-top:10px}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;margin:0;width:95%}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px 12px;font-size:14px;font-weight:500}.movie-tabs[_ngcontent-%COMP%]   .reviews-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{display:flex;gap:30px}.movie-tabs[_ngcontent-%COMP%]   .review-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:95%;margin:0 auto 30px}.movie-tabs[_ngcontent-%COMP%]   .margin-b[_ngcontent-%COMP%]{margin-bottom:50px}.movie-tabs[_ngcontent-%COMP%]   .review-input[_ngcontent-%COMP%]{background-color:inherit;color:#fff;box-sizing:border-box;border-radius:4px;width:100%;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.movie-tabs[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.movie-tabs[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]{display:flex;gap:4px;cursor:pointer}.movie-tabs[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:24px;transition:color .2s;color:#ccc}.movie-tabs[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .star.filled[_ngcontent-%COMP%]{color:#ffc107}.movie-tabs[_ngcontent-%COMP%]   .review-edit-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:12px}.movie-tabs[_ngcontent-%COMP%]   .mb[_ngcontent-%COMP%]{margin-bottom:12px}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:24px}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]   .similar-movie-poster[_ngcontent-%COMP%]{aspect-ratio:2/3;border-radius:8px;overflow:hidden;margin-bottom:8px}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]   .similar-movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]   .similar-movie-poster[_ngcontent-%COMP%]   .placeholder-poster[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#e0e0e0}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]   .similar-movie-poster[_ngcontent-%COMP%]   .placeholder-poster[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#9e9e9e}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]   .similar-movie-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:500}.movie-tabs[_ngcontent-%COMP%]   .similar-movies-grid[_ngcontent-%COMP%]   .similar-movie-card[_ngcontent-%COMP%]   .similar-movie-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009}@media (max-width: 767px){.movie-header[_ngcontent-%COMP%]{flex-direction:column;padding:16px}.movie-header[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]{flex:0 0 auto;margin-right:0;margin-bottom:24px;max-width:250px}.movie-header[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{font-size:24px}.movie-tabs[_ngcontent-%COMP%]{padding:16px;border-radius:0}}"]})};function km(n,a){if(n&1){let e=k();r(0,"div")(1,"button",5),g("click",function(){f(e);let i=m();return b(i.handleRedirect())}),d(2," Go Back to Home "),s()()}n&2&&h("@slideUpFade",void 0)}var En=class n{router=C(K);showButton=S(!1);ngOnInit(){setTimeout(()=>{this.showButton.set(!0)},2e3)}handleRedirect(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-not-found"]],standalone:!0,features:[w],decls:9,vars:2,consts:[[1,"not-found-wrapper","mat-typography"],[1,"content"],[1,"error-icon"],[1,"title"],[1,"subtitle"],[1,"go-back-button",3,"click"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"mat-icon",2),d(3,"error_outline"),s(),r(4,"h2",3),d(5,"Oops! Page Not Found."),s(),r(6,"p",4),d(7," We couldn't find the page you're looking for. But don't worry, we can help you find your way back. "),s(),_(8,km,3,1,"div"),s()()),e&2&&(l(),h("@fadeIn",void 0),l(7),v(t.showButton()?8:-1))},dependencies:[ye,ce],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.not-found-wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;background-color:#070501;padding:16px;text-align:center;color:#fff}.not-found-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:600px;margin:auto}.not-found-wrapper[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:6rem;color:#f44336}.not-found-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:2px;margin-top:16px;color:#fff}.not-found-wrapper[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:40px;font-size:1.2rem;color:#ffffffb3}.not-found-wrapper[_ngcontent-%COMP%]   .go-back-button[_ngcontent-%COMP%]{margin-top:40px;padding:20px 32px;font-weight:700;border-radius:60px;background-color:#feb508;cursor:pointer}"],data:{animation:[be("fadeIn",[X(":enter",[V({opacity:0}),q("1000ms ease-out",V({opacity:1}))])]),be("slideUpFade",[X(":enter",[V({transform:"translateY(20px)",opacity:0}),q("1000ms ease-out",V({transform:"translateY(0)",opacity:1}))])])]}})};var wm=(n,a)=>a.id;function Pm(n,a){n&1&&(r(0,"div",21),y(1,"mat-spinner",24),r(2,"p"),d(3,"Loading movies..."),s()())}function Om(n,a){if(n&1&&(r(0,"div",22)(1,"mat-icon",25),d(2,"movie_filter"),s(),r(3,"p"),d(4),s()()),n&2){let e=m();l(4),O(e.emptyMessage())}}function Dm(n,a){if(n&1&&y(0,"app-movie-card",27),n&2){let e=a.$implicit;h("movie",e)("@fadeInOut",void 0)}}function Sm(n,a){if(n&1&&(r(0,"div",26),Z(1,Dm,1,2,"app-movie-card",27,wm),s()),n&2){let e=m();I("grid-view",!0),l(),J(e.filteredMovies())}}var An=class n{authService=C(H);userService=C(Dt);movieService=C(li);snackbarService=C(Me);user=this.authService.getUser();_sortBy=S("title");_filterText=S("");_isLoading=S(!1);movies=S([]);title=S("My Favorites");emptyMessage=S("No movies found");listToView=S("favorites");sortBy=this._sortBy.asReadonly();filterText=this._filterText.asReadonly();isLoading=this._isLoading.asReadonly();filteredMovies=$(()=>{let a=[...this.movies()];if(this._filterText()){let e=this._filterText().toLowerCase();a=a.filter(t=>t.title?.toLowerCase().includes(e)||t.name?.toLowerCase().includes(e)||t.overview?.toLowerCase().includes(e)||t.genres?.some(i=>i.name.toLowerCase().includes(e)))}switch(this._sortBy()){case"title":a.sort((e,t)=>(e.title??"").localeCompare(t.title??"")||(e.name??"").localeCompare(t.name??""));break;case"title-desc":a.sort((e,t)=>(t.title??"").localeCompare(e.title??""));break;case"rating":a.sort((e,t)=>(t.vote_average||0)-(e.vote_average||0));break;case"rating-asc":a.sort((e,t)=>(e.vote_average||0)-(t.vote_average||0));break;case"release-date":a.sort((e,t)=>{let i=e.release_date?new Date(e.release_date).getTime():0;return(t.release_date?new Date(t.release_date).getTime():0)-i});break;case"release-date-asc":a.sort((e,t)=>{let i=e.release_date?new Date(e.release_date).getTime():0,o=t.release_date?new Date(t.release_date).getTime():0;return i-o});break}return a});destroy$=new ee;ngOnInit(){this.loadMovies("favorites",!0),this.userService.refetchRequested$.pipe(Ce(this.destroy$)).subscribe(a=>{a===this.listToView()&&this.loadMovies(a,!0)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setSortBy(a){this._sortBy.set(a)}setFilterText(a){this._filterText.set(a)}setLoading(a){this._isLoading.set(a)}loadMovies(a,e=!1){if(this.setLoading(!0),e||(this.listToView.set(a),this.title.set(a==="favorites"?"My Favorites":a==="watchlist"?"My Watchlist":"My Watch History")),!this.user?.email){this.setLoading(!1);return}this.userService.fetchUserData().subscribe({next:t=>{let o=t[a]??[];Array.isArray(o)&&o.every(c=>typeof c=="object"&&"id"in c&&"media_type"in c)&&this.getMovieDetails(o).subscribe(c=>{let p=this.movies(),P=new Map(p.map(B=>[B.id,B])),M=[];for(let B of c){let ie=P.get(B.id);M.push(ie??B),P.delete(B.id)}(M.length!==p.length||M.some((B,ie)=>B.id!==p[ie].id))&&this.movies.set(M),this.setLoading(!1)})},error:t=>{console.error("Error loading movies:",t),this.snackbarService.show("Failed to load movies","error"),this.setLoading(!1)}})}getMovieDetails(a){return a.length?Qi(a.map(e=>this.movieService.fetchMovieDetails(e.id.toString(),e.media_type))).pipe(Di(e=>e.filter(t=>t!==null))):ve([])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-movie-list"]],standalone:!0,features:[w],decls:42,vars:13,consts:[[1,"page-container"],[1,"movie-list-container"],[1,"movie-list-header"],[1,"lists-filter"],[1,"custom-toggle-button",3,"click"],[1,"movie-list-actions"],[1,"search-field"],[1,"visually-hidden"],["type","text","placeholder","Search by title, overview, or genre",3,"ngModelChange","ngModel"],[1,"search-icon"],[1,"custom-select-container"],["for","sortSelect",1,"visually-hidden"],[1,"select-wrapper"],["id","sortSelect",1,"custom-select",3,"ngModelChange","ngModel"],["value","title"],["value","title-desc"],["value","rating"],["value","rating-asc"],["value","release-date"],["value","release-date-asc"],[1,"select-arrow"],[1,"loading-container"],[1,"empty-container"],[1,"movies-container",3,"grid-view"],["diameter","40"],[1,"empty-icon"],[1,"movies-container"],[3,"movie"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),d(4),s(),r(5,"div",3)(6,"button",4),g("click",function(){return t.loadMovies("favorites")}),d(7),s(),r(8,"button",4),g("click",function(){return t.loadMovies("watchlist")}),d(9),s(),r(10,"button",4),g("click",function(){return t.loadMovies("watchedList")}),d(11),s()(),r(12,"div",5)(13,"div",6)(14,"label",7),d(15,"Filter"),s(),r(16,"input",8),g("ngModelChange",function(o){return t.setFilterText(o)}),s(),r(17,"mat-icon",9),d(18,"search"),s()(),r(19,"div",10)(20,"label",11),d(21,"Sort by"),s(),r(22,"div",12)(23,"select",13),g("ngModelChange",function(o){return t.setSortBy(o)}),r(24,"option",14),d(25,"Title (A-Z)"),s(),r(26,"option",15),d(27,"Title (Z-A)"),s(),r(28,"option",16),d(29,"Rating (High-Low)"),s(),r(30,"option",17),d(31,"Rating (Low-High)"),s(),r(32,"option",18),d(33,"Release Date (Newest)"),s(),r(34,"option",19),d(35,"Release Date (Oldest)"),s()(),r(36,"div",20)(37,"mat-icon"),d(38,"arrow_drop_down"),s()()()()()(),_(39,Pm,4,0,"div",21)(40,Om,5,1,"div",22)(41,Sm,3,2,"div",23),s()()),e&2&&(l(4),O(t.title()),l(2),I("active",t.listToView()==="favorites"),l(),L(" ","Favorites"," "),l(),I("active",t.listToView()==="watchlist"),l(),L(" ","Watchlist"," "),l(),I("active",t.listToView()==="watchedList"),l(),L(" ","Watch History"," "),l(5),h("ngModel",t.filterText()),l(7),h("ngModel",t.sortBy()),l(16),v(t.isLoading()?39:t.filteredMovies().length===0?40:41))},dependencies:[se,si,Lo,Bo,_e,Vo,ge,ln,Se,he,ye,ce,xe,ci,pi,mi,di,un],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.page-container[_ngcontent-%COMP%]{width:100%;min-height:100vh}.movie-list-container[_ngcontent-%COMP%]{margin-top:40px;padding:40px;color:#fff}.movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin:0;color:#fff}.movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]   .lists-filter[_ngcontent-%COMP%], .movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]   .movie-list-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]   .movie-list-actions[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:300px}.movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]   .movie-list-actions[_ngcontent-%COMP%]   .sort-field[_ngcontent-%COMP%]{width:200px}.movie-list-container[_ngcontent-%COMP%]   .movie-list-header[_ngcontent-%COMP%]   .movie-list-actions[_ngcontent-%COMP%]   .view-mode-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.movie-list-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%], .movie-list-container[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px}.movie-list-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .movie-list-container[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#aaa}.movie-list-container[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;height:64px;width:64px;color:#aaa}.movie-list-container[_ngcontent-%COMP%]   .movies-container.grid-view[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(205px,1fr));gap:24px}.movie-list-container[_ngcontent-%COMP%]   .movies-container.list-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.custom-toggle-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:12px;font-weight:500;border:1px solid #FEB508;border-radius:24px;background-color:transparent;color:#feb508;cursor:pointer;transition:all .3s ease}.custom-toggle-button[_ngcontent-%COMP%]:hover{background-color:#feb5081a}.custom-toggle-button.active[_ngcontent-%COMP%]{background-color:#feb508;color:#000}[_nghost-%COMP%]     mat-form-field{font-size:14px}  .height{height:14px!important}.search-field[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#ffffff1a;font-size:14px;border-radius:20px;padding:0 8px 0 16px;height:40px;width:280px;box-sizing:border-box}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;color:#fff;font-size:14px}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.search-icon[_ngcontent-%COMP%]{color:#ffffffb3;cursor:pointer}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.custom-select-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;background-color:#ffffff1a;border-radius:20px;padding:0 8px 0 16px;box-sizing:border-box}.select-label[_ngcontent-%COMP%]{margin-right:8px;font-size:14px;white-space:nowrap;color:#ffffffb3}.select-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;align-items:center}.custom-select[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border:none;color:inherit;font-size:14px;cursor:pointer;padding-right:24px;appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none}.select-arrow[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);pointer-events:none;display:flex;align-items:center}.select-arrow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;color:#ffffffb3}.custom-select[_ngcontent-%COMP%]::-ms-expand{display:none}.custom-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#333;color:#fff}"],data:{animation:[be("fadeInOut",[X(":leave",[q("300ms ease",V({opacity:0,transform:"translateY(10px)"}))])])]}})};function Im(n,a){n&1&&(r(0,"mat-error"),d(1," Movie title is required "),s())}function Tm(n,a){n&1&&(r(0,"mat-error"),d(1," Movie title must be at least 3 characters "),s())}function Em(n,a){n&1&&(r(0,"mat-error"),d(1," Please select media type "),s())}function Am(n,a){n&1&&(r(0,"mat-error"),d(1," Year is required "),s())}function Fm(n,a){n&1&&(r(0,"mat-error"),d(1," Please enter a valid 4-digit year "),s())}var Fn=class n{requestForm;isSubmitting=!1;user;fb=C(mt);snackbarService=C(Me);authService=C(H);notificationService=C(St);movieRequestService=C(Uo);constructor(){this.requestForm=this.fb.group({movieTitle:["",[N.required,N.minLength(3)]],mediaType:["",N.required],year:["",[N.required,N.pattern("^[0-9]{4}$")]]})}ngOnInit(){this.user=this.authService.getUser()}get movieTitle(){return this.requestForm.get("movieTitle")}get mediaType(){return this.requestForm.get("mediaType")}get year(){return this.requestForm.get("year")}handleSubmitRequest(){if(this.requestForm.invalid){this.requestForm.markAllAsTouched();return}this.isSubmitting=!0;let a=new Date().toISOString(),e=Gi(Mt({},this.requestForm.value),{senderId:this.user?.id,status:"pending",createdAt:a,updatedAt:a});this.movieRequestService.createMovieRequest(e,this.user.id,this.user.name).pipe(La(()=>this.isSubmitting=!1)).subscribe({next:t=>{t?this.requestForm.reset():this.snackbarService.show("Something went wrong. Please try again.","error")},error:()=>{this.snackbarService.show("Network error. Please try again later.","error")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-movie-request"]],standalone:!0,features:[w],decls:26,vars:9,consts:[[1,"movie-request-container"],[1,"title"],[1,"request-form",3,"formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","movieTitle","required",""],["formControlName","mediaType","required",""],["value","movie"],["value","tv"],["matInput","","formControlName","year","required",""],["size","large",3,"click","text","disabled","fullWidth"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"h1",1),d(2,"Request a Movie or TV Show to Be Added"),s(),r(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),d(6,"Movie/TV Show Title"),s(),y(7,"input",4),_(8,Im,2,0,"mat-error")(9,Tm,2,0,"mat-error"),s(),r(10,"mat-form-field",3)(11,"mat-label"),d(12,"Media Type"),s(),r(13,"mat-select",5)(14,"mat-option",6),d(15,"Movie"),s(),r(16,"mat-option",7),d(17,"TV Show"),s()(),_(18,Em,2,0,"mat-error"),s(),r(19,"mat-form-field",3)(20,"mat-label"),d(21,"Year of release"),s(),y(22,"input",8),_(23,Am,2,0,"mat-error")(24,Fm,2,0,"mat-error"),s(),r(25,"app-custom-button",9),g("click",function(){return t.handleSubmitRequest()}),s()()()),e&2&&(l(3),h("formGroup",t.requestForm),l(5),v(!(t.movieTitle==null||t.movieTitle.errors==null)&&t.movieTitle.errors.required?8:-1),l(),v(!(t.movieTitle==null||t.movieTitle.errors==null)&&t.movieTitle.errors.minlength?9:-1),l(9),v(!(t.mediaType==null||t.mediaType.errors==null)&&t.mediaType.errors.required?18:-1),l(5),v(!(t.year==null||t.year.errors==null)&&t.year.errors.required?23:-1),l(),v(!(t.year==null||t.year.errors==null)&&t.year.errors.pattern?24:-1),l(),h("text",t.isSubmitting?"Submitting...":"Send Request")("disabled",t.isSubmitting)("fullWidth",!0))},dependencies:[De,lt,_e,ge,ct,mn,Ge,dt,he,Qe,We,pt,xe,$e,ci,hn,Bi,Ot],styles:[".movie-request-container[_ngcontent-%COMP%]{padding:25px 40px;display:flex;flex-direction:column;align-items:center;height:100%}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:40px;color:var(--secondary-light);text-align:center}.request-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.form-field[_ngcontent-%COMP%]{margin-bottom:25px;width:50%;min-width:200px}.submit-button[_ngcontent-%COMP%]{width:160px;margin-top:15px}@media (max-width: 768px){.form-field[_ngcontent-%COMP%]{width:100%}.movie-request-container[_ngcontent-%COMP%]{padding:20px}.title[_ngcontent-%COMP%]{font-size:20px}}"]})};var Rm=["button"],Vm=["*"];function Lm(n,a){if(n&1&&y(0,"mat-pseudo-checkbox",3),n&2){let e=m();h("disabled",e.disabled)}}function Bm(n,a){if(n&1&&y(0,"mat-pseudo-checkbox",3),n&2){let e=m();h("disabled",e.disabled)}}var ts=new G("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Nm});function Nm(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var is=new G("MatButtonToggleGroup"),jm={provide:ri,useExisting:Ye(()=>Ea),multi:!0},ns=0,Rn=class{constructor(a,e){this.source=a,this.value=e}},Ea=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(t=>t.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,t,i){this._changeDetector=e,this._dir=i,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${ns++}`,this.valueChange=new D,this.change=new D,this.appearance=t&&t.appearance?t.appearance:"standard",this.hideSingleSelectionIndicator=t?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=t?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new fo(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let i=e.target.id,o=this._buttonToggles.toArray().findIndex(p=>p.buttonId===i),c=null;switch(e.keyCode){case 32:case 13:c=this._buttonToggles.get(o)||null;break;case 38:c=this._getNextButton(o,-1);break;case 37:c=this._getNextButton(o,this.dir==="ltr"?-1:1);break;case 40:c=this._getNextButton(o,1);break;case 39:c=this._getNextButton(o,this.dir==="ltr"?1:-1);break;default:return}c&&(e.preventDefault(),c._onButtonClick(),c.focus())}_emitChangeEvent(e){let t=new Rn(e,this.value);this._rawValue=t.value,this._controlValueAccessorChangeFn(t.value),this.change.emit(t)}_syncButtonToggle(e,t,i=!1,o=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(e,i)):this._updateModelValue(e,i)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>e.value!=null&&t===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let t=this._buttonToggles.get(e);if(!t.disabled){t.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,t){let i=this._buttonToggles;for(let o=1;o<=i.length;o++){let c=(e+t*o+i.length)%i.length,p=i.get(c);if(p&&!p.disabled)return p}return null}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e){let t=this._buttonToggles.find(i=>i.value!=null&&i.value===e);t&&(t.checked=!0,this._selectionModel.select(t),this.multiple||(t.tabIndex=0))}_updateModelValue(e,t){t&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static{this.\u0275fac=function(t){return new(t||n)(u(Q),u(ts,8),u(Re,8))}}static{this.\u0275dir=te({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,o){if(t&1&&fe(o,Vn,5),t&2){let c;A(c=F())&&(i._buttonToggles=c)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(t,i){t&1&&g("keydown",function(c){return i._keydown(c)}),t&2&&(E("role",i.multiple?"group":"radiogroup")("aria-disabled",i.disabled),I("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",T],value:"value",multiple:[2,"multiple","multiple",T],disabled:[2,"disabled","disabled",T],disabledInteractive:[2,"disabledInteractive","disabledInteractive",T],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",T],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",T]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[pe([jm,{provide:is,useExisting:n}]),oe]})}}return n})(),Vn=(()=>{class n{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}constructor(e,t,i,o,c,p){this._changeDetectorRef=t,this._elementRef=i,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new D;let P=Number(c);this.tabIndex=P||P===0?P:null,this.buttonToggleGroup=e,this.appearance=p&&p.appearance?p.appearance:"standard",this.disabledInteractive=p?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${ns++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let t=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);t&&(t.tabIndex=-1),this.tabIndex=0}this.change.emit(new Rn(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(t){return new(t||n)(u(is,8),u(Q),u(Y),u(Vi),xt("tabindex"),u(ts,8))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(t&1&&z(Rm,5),t&2){let o;A(o=F())&&(i._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(t,i){t&1&&g("focus",function(){return i.focus()}),t&2&&(E("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),I("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",T],appearance:"appearance",checked:[2,"checked","checked",T],disabled:[2,"disabled","disabled",T],disabledInteractive:[2,"disabledInteractive","disabledInteractive",T]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[oe,w],ngContentSelectors:Vm,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(t&1){let o=k();de(),r(0,"button",1,0),g("click",function(){return f(o),b(i._onButtonClick())}),r(2,"span",2),_(3,Lm,1,1,"mat-pseudo-checkbox",3)(4,Bm,1,1,"mat-pseudo-checkbox",3),re(5),s()(),y(6,"span",4)(7,"span",5)}if(t&2){let o=W(1);h("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),E("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),l(3),v(i.buttonToggleGroup&&i.checked&&!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),l(),v(i.buttonToggleGroup&&i.checked&&i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),l(3),h("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[st,Do],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}}return n})(),as=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({imports:[U,oi,Vn,U]})}}return n})();var Hm=(n,a)=>a.email;function Um(n,a){if(n&1&&y(0,"app-movie-slider",13),n&2){let e=m(3);h("movies",e.selectedUserFavoriteMovies)}}function Ym(n,a){if(n&1&&y(0,"app-movie-slider",14),n&2){let e=m(3);h("movies",e.selectedUserWatchlistMovies)}}function qm(n,a){if(n&1&&y(0,"app-movie-slider",15),n&2){let e=m(3);h("movies",e.selectedUserWatchedListMovies)}}function Gm(n,a){if(n&1&&(r(0,"h1"),d(1),s(),_(2,Um,1,1,"app-movie-slider",13)(3,Ym,1,1,"app-movie-slider",14)(4,qm,1,1,"app-movie-slider",15)),n&2){let e=m(2);l(),L("",e.selectedUser.firstName,"'s Movies"),l(),v(e.selectedUserFavoriteMovies.length?2:-1),l(),v(e.selectedUserWatchlistMovies.length?3:-1),l(),v(e.selectedUserWatchedListMovies.length?4:-1)}}function Wm(n,a){n&1&&(r(0,"p"),d(1,"No users to display in this view."),s())}function Qm(n,a){if(n&1){let e=k();r(0,"mat-icon",21),g("click",function(i){f(e);let o=m().$implicit,c=m(2);return b(c.handleFollow(o.id,i))}),d(1,"person_add"),s()}}function $m(n,a){if(n&1){let e=k();r(0,"mat-icon",22),g("click",function(i){f(e);let o=m().$implicit,c=m(2);return b(c.handleUnfollow(o.id,i))}),d(1,"check_circle"),s()}}function Km(n,a){if(n&1){let e=k();r(0,"div",16),g("click",function(){let i=f(e).$implicit,o=m(2);return b(o.handleUserClick(i))}),y(1,"app-user-avatar",17),r(2,"div",18)(3,"span"),d(4),s(),_(5,Qm,2,0,"mat-icon",19)(6,$m,2,0,"mat-icon",20),s()()}if(n&2){let e=a.$implicit,t=m(2);I("selected",e.id===(t.selectedUser==null?null:t.selectedUser.id)),l(),h("user",e),l(3),O(e.firstName+" "+e.lastName),l(),v(t.isFollowing(e)?6:5)}}function Xm(n,a){if(n&1){let e=k();r(0,"div",0)(1,"div",2),_(2,Gm,5,4)(3,Wm,2,0,"p"),s(),r(4,"div",3)(5,"mat-button-toggle-group",4),g("change",function(i){f(e);let o=m();return b(o.handleViewChange(i.value))}),r(6,"mat-button-toggle",5),d(7,"Following"),s(),r(8,"mat-button-toggle",6),d(9,"Followers"),s(),r(10,"mat-button-toggle",7),d(11,"Global"),s()(),r(12,"div",8)(13,"div",9),y(14,"input",10),s()(),r(15,"div",11),Z(16,Km,7,5,"div",12,Hm),s()()()}if(n&2){let e=m();l(2),v(e.selectedUser?2:3),l(3),h("value",e.view),l(9),h("formControl",e.searchControl),l(2),J(e.filterUsers())}}function Zm(n,a){n&1&&(r(0,"div",1),y(1,"mat-spinner",23),s())}var Ln=class n{userService=C(Dt);notificationService=C(St);snackBar=C(Me);searchControl=new cn("");view="following";allUsersData=S([]);currentUserData=$(()=>this.userService.getUserData());selectedUser=null;selectedUserFavoriteMovies=[];selectedUserWatchlistMovies=[];selectedUserWatchedListMovies=[];loading=!0;searchTerm="";selected=!1;ngOnInit(){this.loadUsers(),this.searchControl.valueChanges.pipe(Xt(300),Ki(),Zt(a=>this.searchTerm=a||"")).subscribe()}loadUsers(){this.userService.fetchUsersData().subscribe({next:a=>{this.allUsersData.set(a),this.autoSelectUser(),this.loading=!1},error:()=>{this.snackBar.show("Failed to load users"),this.loading=!1}})}autoSelectUser(){let a=this.filterUsers();this.selectedUser=a?.[0]??null,this.selectedUser&&(this.selected=!0),this.fetchSelectedUserMovies()}filterUsers(){let a=this.currentUserData();if(console.log("Current user:",a),!a)throw new Error("No user found");let e=this.searchTerm.toLowerCase();return this.allUsersData().filter(t=>{let i=((t.firstName??"")+(t.lastName??"")).toLowerCase();return t.favorites?.length||t.watchlist?.length||t.watchedList?.length?this.view==="following"?a.following?.includes(t.id)&&i.includes(e):this.view==="followers"?a.followers?.includes(t.id)&&i.includes(e):this.view==="global"?t.id!==a.id&&!a.following?.includes(t.id)&&!a.followers?.includes(t.id)&&i.includes(e):!1:!1})}fetchSelectedUserMovies(){if(!this.selectedUser)return;let a=this.selectedUser.favorites??[],e=this.selectedUser.watchlist??[],t=this.selectedUser.watchedList??[];Qi({favorites:this.userService.fetchMoviesList(a),watchlist:this.userService.fetchMoviesList(e),watched:this.userService.fetchMoviesList(t)}).subscribe(({favorites:i,watchlist:o,watched:c})=>{this.selectedUserFavoriteMovies=i,this.selectedUserWatchlistMovies=o,this.selectedUserWatchedListMovies=c})}handleViewChange(a){this.view=a,this.autoSelectUser()}handleUserClick(a){this.selectedUser=a,this.selected=!0,this.fetchSelectedUserMovies()}handleFollow(a,e){e.stopPropagation(),this.currentUserData()&&this.userService.followUser(a).subscribe({next:()=>{this.notificationService.sendNotification({to:a,from:this.currentUserData()?.id,message:`${this.currentUserData()?.firstName+" "+this.currentUserData()?.lastName} followed you!`,read:!1,date:new Date().toISOString()}).subscribe(()=>{}),a===this.selectedUser?.id&&this.autoSelectUser()},error:t=>{console.error("Failed to follow user:",t),this.snackBar.show("Oops, failed to follow. Please try again")}})}handleUnfollow(a,e){e.stopPropagation(),this.currentUserData()&&this.userService.unfollowUser(a).subscribe({next:()=>{this.notificationService.sendNotification({to:a,from:this.currentUserData()?.id,message:`${this.currentUserData()?.firstName+" "+this.currentUserData()?.lastName} unfollowed you!`,read:!1,date:new Date().toISOString()}).subscribe(()=>{}),a===this.selectedUser?.id&&this.autoSelectUser()},error:t=>{console.error("Failed to unfollow user:",t),this.snackBar.show("Oops, failed to unfollow. Please try again")}})}isFollowing(a){return this.userService.isFollowing(a.id)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-community"]],standalone:!0,features:[w],decls:2,vars:1,consts:[[1,"community-container"],[1,"loading-container"],[1,"movies-pane"],[1,"user-pane"],["exclusive","",1,"full-width-toggle",3,"change","value"],["value","following"],["value","followers"],["value","global"],[1,"search-bar-container"],[1,"search-field"],["type","text","placeholder","Search...",3,"formControl"],[1,"users"],[1,"user-card",3,"selected"],["title","Favorites",3,"movies"],["title","Watchlist",3,"movies"],["title","Watched",3,"movies"],[1,"user-card",3,"click"],[3,"user"],[1,"user-details"],["matTooltip","Follow"],["matTooltip","Unfollow"],["matTooltip","Follow",3,"click"],["matTooltip","Unfollow",3,"click"],["diameter","80"]],template:function(e,t){e&1&&_(0,Xm,18,3,"div",0)(1,Zm,2,0,"div",1),e&2&&v(t.loading?1:0)},dependencies:[Xo,ce,di,as,Ea,Vn,De,_e,ge,dn,pi,Yo,ht],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.community-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 300px;gap:40px;padding:20px 40px;width:96%}.movies-pane[_ngcontent-%COMP%]{flex:1;min-width:600px}.movies-pane[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#feb508;margin-bottom:24px}.user-pane[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;gap:16px}.user-pane[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{width:97%;display:flex}.user-pane[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{flex:1;text-align:center}.user-pane[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{position:relative;width:100%}.user-pane[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#ffffff1a;border-radius:20px;padding:0 8px 0 16px;height:36px;margin-bottom:20px}.user-pane[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;color:#fff;font-size:14px}.user-pane[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.user-pane[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{flex-direction:column;display:flex;width:100%;gap:8px}.user-pane[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:24px;cursor:pointer;transition:.2s;color:#faebd7}.user-pane[_ngcontent-%COMP%]   .user-card.selected[_ngcontent-%COMP%]{background-color:#feb5081a}.user-pane[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]:hover{background-color:#feb5080d}.user-pane[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;width:85%;justify-content:space-between}.user-pane[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#feb508}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]})};var Bn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-admin-sign-in-page"]],standalone:!0,features:[w],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(e,t){e&1&&y(0,"app-sign-in",0),e&2&&h("isAdmin",!0)},dependencies:[yi]})};var os=[{path:"",pathMatch:"full",loadComponent:()=>import("./chunk-NTDR52HM.js").then(n=>n.GuestComponent),canActivate:[Ni],title:"Streambase - All Your Favourite Movies in One Place"},{path:"home",loadComponent:()=>import("./chunk-IZCZMFEX.js").then(n=>n.UserHomeComponent),canActivate:[ui],title:"Home | Streambase"},{path:"profile",component:Mn,canActivate:[ui],title:"Profile | Streambase"},{path:"my-lists",component:An,canActivate:[ui],title:"My Lists | Streambase"},{path:"community",component:Ln,canActivate:[ui],title:"Community | Streambase"},{path:"request-movie",component:Fn,canActivate:[ui],title:"Movie Request | Streambase"},{path:"sign-up",component:kn,canActivate:[Ni],data:{hideHeaderFooter:!0},title:"Sign Up | Streambase"},{path:"sign-in",component:yi,canActivate:[Ni],data:{hideHeaderFooter:!0},title:"Sign In | Streambase"},{path:"admin-sign-in",component:Bn,canActivate:[Ni],data:{hideHeaderFooter:!0},title:"Admin Sign In | Streambase"},{path:"admin-dashboard",loadComponent:()=>import("./chunk-S3B7RGQ5.js").then(n=>n.AdminDashboardComponent),canActivate:[_n],title:"Admin Dashboard | Streambase"},{path:"admin-users-management",loadComponent:()=>import("./chunk-ME22Y2FZ.js").then(n=>n.AdminUsersManagementComponent),canActivate:[_n],title:"Admin User Management | Streambase"},{path:"admin-movie-requests",loadComponent:()=>import("./chunk-CPWOJUUR.js").then(n=>n.AdminMovieRequestsComponent),canActivate:[_n],title:"Admin Movie Requests | Streambase"},{path:"watch/:id",component:In,canActivate:[Jo],title:"Streambase"},{path:"**",component:En,data:{hideHeaderFooter:!0}}];var Jm="@",ep=(()=>{class n{constructor(e,t,i,o,c){this.doc=e,this.delegate=t,this.zone=i,this.animationType=o,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=C(Ya,{optional:!0}),this.loadingSchedulerFn=C(tp,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-5B76TQ7M.js").then(i=>i),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(i=>{throw new Na(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let c=new o(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new Aa(i);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let p=c.createRenderer(e,t);o.use(p),this.scheduler?.notify(10)}).catch(c=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(t){Zi()}}static{this.\u0275prov=nt({token:n,factory:n.\u0275fac})}}return n})(),Aa=class{constructor(a){this.delegate=a,this.replay=[],this.\u0275type=1}use(a){if(this.delegate=a,this.replay!==null){for(let e of this.replay)e(a);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(a,e){return this.delegate.createElement(a,e)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}get destroyNode(){return this.delegate.destroyNode}appendChild(a,e){this.delegate.appendChild(a,e)}insertBefore(a,e,t,i){this.delegate.insertBefore(a,e,t,i)}removeChild(a,e,t){this.delegate.removeChild(a,e,t)}selectRootElement(a,e){return this.delegate.selectRootElement(a,e)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,e,t,i){this.delegate.setAttribute(a,e,t,i)}removeAttribute(a,e,t){this.delegate.removeAttribute(a,e,t)}addClass(a,e){this.delegate.addClass(a,e)}removeClass(a,e){this.delegate.removeClass(a,e)}setStyle(a,e,t,i){this.delegate.setStyle(a,e,t,i)}removeStyle(a,e,t){this.delegate.removeStyle(a,e,t)}setProperty(a,e,t){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(a,e,t)),this.delegate.setProperty(a,e,t)}setValue(a,e){this.delegate.setValue(a,e)}listen(a,e,t){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(a,e,t)),this.delegate.listen(a,e,t)}shouldReplay(a){return this.replay!==null&&a.startsWith(Jm)}},tp=new G("");function rs(n="animations"){return Ga("NgAsyncAnimations"),Ha([{provide:qa,useFactory:(a,e,t)=>new ep(a,e,t,n),deps:[Ae,no,me]},{provide:gt,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ss={providers:[Ka({eventCoalescing:!0}),mo(os),rs(),to(io())]};var Oi=class n{document=C(Ae);darkMode=S(!0);toggleDarkMode(){this.darkMode.update(a=>!a),this.applyTheme(this.darkMode()),localStorage.setItem("darkMode",this.darkMode()?"true":"false")}isDarkModeEnabled(){let a=localStorage.getItem("darkMode");return a?a==="true":!0}applyTheme(a){a?(this.document.body.classList.add("dark-theme"),this.document.body.classList.remove("light-theme")):(this.document.body.classList.add("light-theme"),this.document.body.classList.remove("dark-theme"))}initTheme(){this.applyTheme(this.darkMode())}static \u0275fac=function(e){return new(e||n)};static \u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})};var ip=["*",[["mat-toolbar-row"]]],np=["*","mat-toolbar-row"],ap=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=te({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),cs=(()=>{class n{constructor(e,t,i){this._elementRef=e,this._platform=t,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||n)(u(Y),u(Fe),u(Ae))}}static{this.\u0275cmp=x({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,o){if(t&1&&fe(o,ap,5),t&2){let c;A(c=F())&&(i._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(Pe(i.color?"mat-"+i.color:""),I("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[w],ngContentSelectors:np,decls:2,vars:0,template:function(t,i){t&1&&(de(ip),re(0),re(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var ls=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({imports:[U,U]})}}return n})();var rp=new G("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Ve);return()=>n.scrollStrategies.reposition()}});function sp(n){return()=>n.scrollStrategies.reposition()}var cp={provide:rp,deps:[Ve],useFactory:sp};var ds=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=ne({providers:[cp],imports:[ai,Jn,U,se,ni,Jn,U]})}}return n})();var lp=["searchInput"],dp=(n,a)=>a.id;function mp(n,a){if(n&1){let e=k();r(0,"app-movie-results",12),g("click",function(){let i=f(e).$implicit,o=m(2);return b(o.handleMovieClick(i))}),s()}if(n&2){let e=a.$implicit;h("movie",e)}}function pp(n,a){if(n&1&&(r(0,"div",9),Z(1,mp,1,1,"app-movie-results",11,dp),s()),n&2){let e=m();l(),J(e.searchResults())}}function hp(n,a){n&1&&(r(0,"span"),d(1,"Something went wrong"),s())}function up(n,a){n&1&&(r(0,"span"),d(1,"No results found"),s())}function _p(n,a){if(n&1&&(r(0,"div",9)(1,"div",13),_(2,hp,2,0,"span")(3,up,2,0,"span"),s()()),n&2){let e=m();l(2),v(e.isSearchError()?2:3)}}function gp(n,a){if(n&1&&(r(0,"button",14),d(1),s()),n&2){let e=m().$implicit;m();let t=W(16);h("matMenuTriggerFor",t),l(),L(" ",e," ")}}function fp(n,a){if(n&1){let e=k();r(0,"button",15),g("click",function(){f(e);let i=m().$implicit,o=m();return b(o.setSearchType(i))}),d(1),s()}if(n&2){let e=m().$implicit;l(),L(" ",e," ")}}function bp(n,a){if(n&1&&_(0,gp,2,2,"button",14)(1,fp,2,1,"button",10),n&2){let e=a.$implicit;v(e==="Genre"?0:1)}}function vp(n,a){if(n&1){let e=k();r(0,"button",15),g("click",function(){let i=f(e).$implicit,o=m();return b(o.setGenreSearchTerm(i.name,i.id))}),d(1),s()}if(n&2){let e=a.$implicit;l(),L(" ",e.name," ")}}var Nn=class n{width=Ee("100%");movieService=C(li);router=C(K);authService=C(H);dialog=C(rn);destroy$=new ee;searchControl=new cn("");searchType=S("Title");searchResults=S([]);isSearching=S(!1);isSearchError=S(!1);showResults=S(!1);genreQuery=S("");hasResults=$(()=>this.searchResults().length>0);filters=["Title","Genre","Director","Actor","Year"];genres=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];ngOnInit(){this.searchControl.valueChanges.pipe(Xt(300),Ki(),Te(a=>!!a&&a.length>1),Zt(()=>{this.isSearching.set(!0),this.isSearchError.set(!1)}),_t(a=>this.movieService.performSearch(this.searchType(),this.searchType()==="Genre"?this.genreQuery():a||"").pipe($i(()=>(this.isSearchError.set(!0),this.isSearching.set(!1),ve([]))))),Ce(this.destroy$)).subscribe(a=>{this.searchResults.set(a??[]),this.isSearching.set(!1),this.showResults.set(!0)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handleMovieClick(a){this.authService.getUser()?(this.router.navigate(["/watch",a.id],{queryParams:{media_type:a.media_type?a.media_type:a.release_date?"movie":"tv"}}),this.showResults.set(!1),this.searchControl.setValue("")):(this.openSignInDialog(),this.showResults.set(!1),this.searchControl.setValue(""))}setGenreSearchTerm(a,e){this.searchType.set("Genre"),this.setSearchValueManually(a),this.genreQuery.set(e.toString())}setSearchType(a){this.searchType.set(a)}closeResults(){setTimeout(()=>{this.showResults.set(!1)},300)}onImageError(a){a.target.src="https://dummyimage.com/48x60/757575/757575.png"}makeResultsVisible(){this.searchControl.value&&this.searchControl.value?.length>1&&this.showResults.set(!0)}searchInput;setSearchValueManually(a){this.searchControl.setValue(a),this.searchInput.nativeElement.focus()}openSignInDialog(){this.dialog.open(Ko).afterClosed().subscribe({})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-movie-search-bar"]],viewQuery:function(e,t){if(e&1&&z(lp,5),e&2){let i;A(i=F())&&(t.searchInput=i.first)}},inputs:{width:[1,"width"]},standalone:!0,features:[w],decls:19,vars:6,consts:[["searchInput",""],["filterMenu","matMenu"],["genreFilterMenu","matMenu"],[1,"search-bar-container"],[1,"search-field"],["type","text","placeholder","Search","autocomplete","off",3,"focus","blur","formControl"],[1,"search-type-indicator",3,"matMenuTriggerFor"],[1,"search-type"],[1,"search-button"],[1,"search-results"],["mat-menu-item",""],[3,"movie"],[3,"click","movie"],[1,"no-results"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,t){if(e&1){let i=k();r(0,"div",3)(1,"div",4)(2,"input",5,0),g("focus",function(){return f(i),b(t.makeResultsVisible())})("blur",function(){return f(i),b(t.closeResults())}),s(),r(4,"div",6)(5,"span",7),d(6),s(),r(7,"mat-icon",8),d(8,"arrow_drop_down"),s()()(),_(9,pp,3,0,"div",9)(10,_p,4,1,"div",9),r(11,"mat-menu",null,1),Z(13,bp,2,1,null,null,kt),s(),r(15,"mat-menu",null,2),Z(17,vp,2,1,"button",10,kt),s()()}if(e&2){let i=W(12);ot("width",t.width()),l(2),h("formControl",t.searchControl),l(2),h("matMenuTriggerFor",i),l(2),O(t.searchType()),l(3),v(t.showResults()&&t.searchResults().length>0?9:t.showResults()&&t.searchResults().length===0&&!t.isSearching()?10:-1),l(4),J(t.filters),l(4),J(t.genres)}},dependencies:[se,si,_e,ge,De,dn,ds,xe,he,Lt,Xe,yt,Vt,Se,ye,ce,mi,Zo],styles:[".search-bar-container[_ngcontent-%COMP%]{position:relative;width:100%}.search-field[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#ffffff1a;border-radius:20px;padding:0 8px 0 16px;height:36px}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;color:#fff;font-size:14px}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.search-field[_ngcontent-%COMP%]   .search-type-indicator[_ngcontent-%COMP%]{display:flex;align-items:center}.search-field[_ngcontent-%COMP%]   .search-type-indicator[_ngcontent-%COMP%]   .search-type[_ngcontent-%COMP%]{font-size:14px;color:#f5c518;cursor:pointer;margin-right:4px}.search-field[_ngcontent-%COMP%]   .search-type-indicator[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#f5c518;width:40px;height:40px;cursor:pointer}.search-field[_ngcontent-%COMP%]   .search-type-indicator[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;height:14px;width:14px}.search-field[_ngcontent-%COMP%]   .search-type-indicator[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:transparent}.search-field[_ngcontent-%COMP%]   .search-spinner[_ngcontent-%COMP%]{margin-right:8px}.search-field[_ngcontent-%COMP%]   .search-spinner[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#f5c518}.search-results[_ngcontent-%COMP%]{position:absolute;top:40px;left:0;right:0;background-color:#1e1e1e;border-radius:4px;box-shadow:0 4px 8px #0000004d;max-height:400px;overflow-y:auto;overflow-x:hidden;z-index:1500}.search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:16px;font-size:14px;text-align:center;color:#ffffffb3}.genre-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}.genre-chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer}.genre-chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}  .cdk-overlay-pane{max-height:500px;overflow-y:auto}.dark-theme[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]{background-color:#ffffff1a}.dark-theme[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .dark-theme   [_nghost-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .search-results[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]{background-color:#1e1e1e}.dark-theme[_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-year[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-year[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{color:#ffffffb3}@media (max-width: 768px){.search-bar-container[_ngcontent-%COMP%]   .genre-chips[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}}"]})};var Cp=(n,a)=>a.id;function yp(n,a){if(n&1){let e=k();r(0,"button",8),g("click",function(i){f(e);let o=m();return b(o.markAllNotificationsAsRead(i))}),r(1,"h2"),d(2,"Mark all as read"),s()()}}function Mp(n,a){n&1&&(r(0,"div",6)(1,"p"),d(2,"No notifications"),s()())}function xp(n,a){if(n&1){let e=k();r(0,"button",16),g("click",function(i){f(e);let o=m().$implicit,c=m(2);return b(c.markNotificationAsRead(o,i))}),r(1,"mat-icon"),d(2,"done"),s()()}}function kp(n,a){if(n&1&&(r(0,"div",10)(1,"div",11)(2,"mat-icon"),d(3,"notifications"),s()(),r(4,"div",12)(5,"p",13),d(6),s(),r(7,"p",14),d(8),Jt(9,"date"),s()(),_(10,xp,3,0,"button",15),s()),n&2){let e=a.$implicit;I("unread",!e.read),l(6),O(e.message),l(2),L(" ",ei(9,5,e.date,"short")," "),l(2),v(e.read?-1:10)}}function wp(n,a){if(n&1&&(r(0,"div",7),Z(1,kp,11,8,"div",9,Cp),s()),n&2){let e=m();l(),J(e.notifications())}}var jn=class n{notificationService=C(St);notifications=Ee.required();loggedIn=Ee.required();user=Ee.required();badgeState="active";previousNotificationsCount=0;constructor(){Xa(()=>{let a=this.unreadNotificationsCount();a>this.previousNotificationsCount&&this.previousNotificationsCount!==0&&this.pulseAnimation(),this.previousNotificationsCount=a})}pulseAnimation(){this.badgeState="pulse",setTimeout(()=>{this.badgeState="active"},600)}unreadNotificationsCount=$(()=>this.notifications()?.filter(a=>!a.read).length||0);markAllNotificationsAsRead(a){a.stopPropagation(),!(!this.loggedIn()||!this.user()?.id)&&this.notificationService.markAllAsRead().subscribe()}markNotificationAsRead(a,e){e.stopPropagation(),this.notificationService.markAsRead(a.id).subscribe()}ngOnDestroy(){this.notificationService.stopFetchingNotifications()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-notifications"]],inputs:{notifications:[1,"notifications"],loggedIn:[1,"loggedIn"],user:[1,"user"]},standalone:!0,features:[w],decls:13,vars:6,consts:[["notificationsMenu","matMenu"],["matBadgeColor","warn","matBadgeSize","small","matBadgePosition","above after","matTooltip","",1,"notification-button",3,"matMenuTriggerFor","matBadge","matBadgeHidden"],[1,"badge-animator"],[1,"notifications-menu"],[1,"notifications-header"],["mat-button","","color","primary",1,"mark-all-button"],[1,"empty-notifications"],[1,"notifications-list"],["mat-button","","color","primary",1,"mark-all-button",3,"click"],[1,"notification-item",3,"unread"],[1,"notification-item"],[1,"notification-icon"],[1,"notification-content"],[1,"notification-text"],[1,"notification-time"],["mat-icon-button","","matTooltip","Mark as read",1,"mark-read-button"],["mat-icon-button","","matTooltip","Mark as read",1,"mark-read-button",3,"click"]],template:function(e,t){if(e&1&&(r(0,"button",1)(1,"mat-icon"),d(2,"notifications"),s(),y(3,"span",2),s(),r(4,"mat-menu",3,0)(6,"div",4)(7,"h3"),d(8,"Notifications"),s(),_(9,yp,3,0,"button",5),s(),y(10,"mat-divider"),_(11,Mp,3,0,"div",6)(12,wp,3,0,"div",7),s()),e&2){let i=W(5);h("matMenuTriggerFor",i)("matBadge",t.unreadNotificationsCount())("matBadgeHidden",t.unreadNotificationsCount()===0),l(3),h("@badgePulse",t.badgeState),l(6),v(t.unreadNotificationsCount()>0?9:-1),l(2),v(t.notifications()&&t.notifications().length===0?11:12)}},dependencies:[se,ti,ye,ce,Lt,Xe,Vt,hi,$o,Rt,Ci],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.notification-button[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:10px;line-height:15px;height:16px;position:absolute;transform:translate(-50%,30%)}.notification-button[_ngcontent-%COMP%]{position:relative}.badge-animator[_ngcontent-%COMP%]{position:absolute;top:0;right:0;pointer-events:none}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-left:8px;color:#fff;background-color:transparent;cursor:pointer;border:0;border-radius:50%}  .notifications-menu{max-width:350px;width:100%;color:#fff}  .notifications-menu .notifications-header{display:flex;justify-content:space-between;align-items:center;padding:16px}  .notifications-menu .notifications-header .mark-all-button{margin:10px 0;padding:8px 16px;border-radius:8px;display:inline-flex;align-items:center;transition:background-color .3s ease}  .notifications-menu .notifications-header .mark-all-button h2{margin:0;font-size:14px;font-weight:500}  .notifications-menu .notifications-header .mark-all-button:hover{background-color:#271c01}  .notifications-menu .notifications-header .mark-all-button:active{background-color:#271c01}  .notifications-menu .notifications-header h3{margin:0;font-size:14px;font-weight:500}  .notifications-menu .notifications-header h2{font-size:14px;font-weight:500;color:#feb508}  .notifications-menu .empty-notifications{padding:24px 16px;text-align:center;color:#fff}  .notifications-menu .notifications-list{max-height:400px;overflow-y:auto}  .notifications-menu .notifications-list .notification-item{display:flex;padding:12px 16px;cursor:pointer;transition:background-color .2s ease}  .notifications-menu .notifications-list .notification-item:hover{background-color:#0000000a}  .notifications-menu .notifications-list .notification-item.unread{background-color:#f5c5181a}  .notifications-menu .notifications-list .notification-item.unread .notification-text{font-weight:500}  .notifications-menu .notifications-list .notification-item .notification-icon{margin-right:16px}  .notifications-menu .notifications-list .notification-item .notification-icon mat-icon{color:#f5c518}  .notifications-menu .notifications-list .notification-item .notification-content{flex:1}  .notifications-menu .notifications-list .notification-item .notification-content .notification-text{margin:0 0 4px;font-size:14px}  .notifications-menu .notifications-list .notification-item .notification-content .notification-time{margin:0;font-size:12px;color:#0009}  .notifications-menu .notifications-list .notification-item .mark-read-button{opacity:0;transition:opacity .2s ease}  .notifications-menu .notifications-list .notification-item:hover .mark-read-button{opacity:1}  .notifications-menu .view-all-notifications{padding:8px 16px;text-align:center}"],data:{animation:[be("badgePulse",[Oe("active",V({transform:"scale(1)"})),X("void => active",[V({transform:"scale(0)"}),q("300ms ease-out")]),X("active => void",[q("300ms ease-in",V({transform:"scale(0)"}))]),X("* => pulse",[q("300ms ease-in-out",V({transform:"scale(1.5)"})),q("300ms ease-in-out",V({transform:"scale(1)"}))])])]}})};function Pp(n,a){n&1&&(r(0,"nav",7)(1,"a",14),d(2," Home "),s(),r(3,"a",15),d(4," My Lists "),s(),r(5,"a",16),d(6," Community "),s(),r(7,"a",17),d(8," Request Movie "),s()())}function Op(n,a){n&1&&(r(0,"nav",7)(1,"a",18),d(2," Dashboard "),s(),r(3,"a",19),d(4," Users Management "),s(),r(5,"a",20),d(6," Movie Requests "),s()())}function Dp(n,a){if(n&1&&(r(0,"div",10),y(1,"app-notifications",21),r(2,"button",22),y(3,"app-user-avatar",23),s()()),n&2){let e=m(),t=W(14);l(),h("loggedIn",e.isAdmin()||e.isUser())("user",e.currentUser())("notifications",e.notifications()()),l(),h("matMenuTriggerFor",t),l(),h("user",e.currentUser())}}function Sp(n,a){if(n&1){let e=k();r(0,"div",10)(1,"button",24),g("click",function(){f(e);let i=m();return b(i.navigateToSignIn())}),d(2," SIGN IN "),s(),r(3,"button",24),g("click",function(){f(e);let i=m();return b(i.navigateToSignUp())}),d(4," SIGN UP "),s()()}}function Ip(n,a){if(n&1&&(r(0,"div",25)(1,"div",26),y(2,"app-user-avatar",27),s(),r(3,"div",28)(4,"h3"),d(5),s(),r(6,"p"),d(7),s()()()),n&2){let e,t,i=m();l(2),h("user",i.currentUser())("size",48),l(3),O((e=i.currentUser())==null?null:e.name),l(2),O((t=i.currentUser())==null?null:t.email)}}var zn=class n{authService=C(H);notificationService=C(St);router=C(K);currentUser=S(null);isUser=$(()=>!!this.authService.isLoggedIn());isAdmin=$(()=>!!this.authService.isAdminLoggedIn());notifications=$(()=>this.notificationService.getNotifications());badgeState="active";pollingInterval=1e4;ngOnInit(){this.authService.user$.subscribe(a=>{this.isUser()&&this.currentUser.set(a),this.isAdmin()&&this.currentUser.set(this.authService.getAdmin());let e=this.currentUser();if(e){let t=e.id;this.notificationService.fetchNotifications(t,this.pollingInterval)}})}logout(){this.authService.logout()}navigateToProfile(){this.isUser()?this.router.navigate(["/profile"]):this.isAdmin()&&this.router.navigate(["/admin-profile"])}navigateToSignIn(){this.router.navigate(["/sign-in"])}navigateToHome(){this.isAdmin()?this.router.navigate(["/admin-dashboard"]):this.isUser()?this.router.navigate(["/home"]):this.router.navigate(["/"])}navigateToSignUp(){this.router.navigate(["/sign-up"])}ngOnDestroy(){this.notificationService.stopFetchingNotifications()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-navigation"]],standalone:!0,features:[w],decls:28,vars:4,consts:[["userMenu","matMenu"],["color","primary",1,"navigation-toolbar"],[1,"toolbar-container"],[1,"left-container"],[1,"brand"],[1,"brand-link",3,"click"],["src","streambase-full-logo.svg",1,"brand-logo"],[1,"nav-links"],[1,"right-actions"],[1,"search-container"],[1,"user-actions"],[1,"user-menu"],["class","user-info",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-button","","routerLink","/home","routerLinkActive","active"],["mat-button","","routerLink","/my-lists","routerLinkActive","active"],["mat-button","","routerLink","/community","routerLinkActive","active"],["mat-button","","routerLink","/request-movie","routerLinkActive","active"],["mat-button","","routerLink","/admin-dashboard","routerLinkActive","active"],["mat-button","","routerLink","/admin-users-management","routerLinkActive","active"],["mat-button","","routerLink","/admin-movie-requests","routerLinkActive","active"],[3,"loggedIn","user","notifications"],["mat-icon-button","",1,"user-menu-button",3,"matMenuTriggerFor"],[3,"user"],["mat-raised-button","",1,"auth-button",3,"click"],[1,"user-info"],[1,"user-avatar"],[3,"user","size"],[1,"user-details"]],template:function(e,t){if(e&1){let i=k();r(0,"mat-toolbar",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"a",5),g("click",function(){return f(i),b(t.navigateToHome())}),y(5,"img",6),s()(),_(6,Pp,9,0,"nav",7)(7,Op,7,0,"nav",7),s(),r(8,"div",8)(9,"div",9),y(10,"app-movie-search-bar"),s(),_(11,Dp,4,5,"div",10)(12,Sp,5,0,"div",10),s()()(),r(13,"mat-menu",11,0),_(15,Ip,8,4,"div",12),y(16,"mat-divider"),r(17,"button",13),g("click",function(){return f(i),b(t.navigateToProfile())}),r(18,"mat-icon"),d(19,"person"),s(),r(20,"span"),d(21,"Profile"),s()(),y(22,"mat-divider"),r(23,"button",13),g("click",function(){return f(i),b(t.logout())}),r(24,"mat-icon"),d(25,"exit_to_app"),s(),r(26,"span"),d(27,"Logout"),s()()()}e&2&&(l(6),v(t.isUser()?6:-1),l(),v(t.isAdmin()?7:-1),l(4),v(t.isUser()||t.isAdmin()?11:12),l(4),h("ngIf",t.currentUser()))},dependencies:[se,Pt,po,co,lo,ls,cs,Se,zo,Qt,$t,ye,ce,Lt,Xe,yt,Vt,hi,Rt,Ci,Nn,ht,jn],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}[_nghost-%COMP%]     .mat-toolbar{margin:0;padding:0;width:95vw!important;max-width:none!important}.navigation-toolbar[_ngcontent-%COMP%]{padding:0;background-color:#070501;color:#fff;height:56px;display:block;align-items:center}.toolbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:0 36px;margin:0 auto;height:100%}.left-container[_ngcontent-%COMP%]{display:flex;gap:20px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;display:flex;align-items:center}.brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{height:35px}.nav-links[_ngcontent-%COMP%]{display:flex;margin-left:32px}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 4px;color:#fff;font-weight:500;font-size:14px}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:2px solid rgb(227,163,12)}.nav-links[_ngcontent-%COMP%]   a.hover[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   button.hover[_ngcontent-%COMP%]{background-color:#feb5081a}.right-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.right-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{width:300px;margin-right:16px}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;color:#fff;background-color:transparent;cursor:pointer;border:0;border-radius:50%}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{border-radius:20px;font-size:11px;font-weight:400;margin-left:12px;background-color:#feb508;color:#070501}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]:hover{background-color:#e6a102}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]:first-child{background-color:#323232b3;color:#fff}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]:first-child:hover{background-color:#323232}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0;border:none;background:transparent}.right-actions[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .sign-in-button[_ngcontent-%COMP%]{margin-left:8px}  .user-menu{min-width:250px}  .user-menu .user-info{display:flex;padding:16px;align-items:center}  .user-menu .user-info .user-avatar{margin-right:8px}  .user-menu .user-info .user-details h3{margin:0 0 4px;font-size:14px;font-weight:700;color:#fff}  .user-menu .user-info .user-details p{margin:0;font-size:14px;color:#fff}"],data:{animation:[be("badgePulse",[Oe("active",V({transform:"scale(1)"})),X("void => active",[V({transform:"scale(0)"}),q("300ms ease-out")]),X("active => void",[q("300ms ease-in",V({transform:"scale(0)"}))]),X("* => pulse",[q("300ms ease-in-out",V({transform:"scale(1.5)"})),q("300ms ease-in-out",V({transform:"scale(1)"}))])])]}})};var Tp=n=>({"dark-theme":n}),Hn=class n{themeService=C(Oi);isDarkMode=this.themeService.darkMode;currentYear=new Date().getFullYear();tmdbLogo="tmdb-logo.svg";links=["Terms of Service","Privacy Policy","Accessibility","Careers","Advertise with us","Help"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-footer"]],standalone:!0,features:[w],decls:18,vars:4,consts:[[3,"ngClass"],[1,"footer-bottom"],[1,"social-links"],["href","#","aria-label","Facebook"],["href","#","aria-label","Twitter"],["href","#","aria-label","Instagram"],["href","#","aria-label","tmdb"],["src","tmdb-logo.svg","alt","TMDB"]],template:function(e,t){e&1&&(r(0,"footer",0)(1,"div",1)(2,"p"),d(3),s(),r(4,"div",2)(5,"a",3)(6,"mat-icon"),d(7,"facebook"),s()(),r(8,"a",4)(9,"mat-icon"),d(10,"alternate_email"),s()(),r(11,"a",5)(12,"mat-icon"),d(13,"photo_camera"),s()()(),r(14,"p"),d(15,"Powered by "),r(16,"a",6),y(17,"img",7),s()()()()),e&2&&(h("ngClass",et(2,Tp,t.isDarkMode())),l(3),L("\xA9 ",t.currentYear," StreamBase. All rights reserved."))},dependencies:[ye,ce,wt],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}footer[_ngcontent-%COMP%]{background-color:#070501;color:#fff;padding:3rem 2rem 1rem;width:95%}footer.dark-theme[_ngcontent-%COMP%]{background-color:#070501}.footer-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0 auto}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;opacity:.7}.footer-bottom[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:10px;padding-left:10px}.footer-bottom[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{display:flex;gap:1rem}.footer-bottom[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;opacity:.7;transition:all .2s ease}.footer-bottom[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#feb508}.footer-bottom[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;height:1.2rem;width:1.2rem}"]})};function Ep(n,a){if(n&1){let e=k();r(0,"div",1)(1,"mat-icon",2),d(2),s(),r(3,"span",3),d(4),s(),r(5,"button",4),g("click",function(){f(e);let i=m();return b(i.dismiss())}),r(6,"mat-icon"),d(7,"close"),s()()()}if(n&2){let e=m();h("ngClass",e.message.type),l(2),O(e.getIcon(e.message.type)),l(2),O(e.message.text)}}var Un=class n{constructor(a){this.snackbar=a;this.snackbar.message$.subscribe(e=>{this.message=e,this.timeout&&clearTimeout(this.timeout),e&&(this.timeout=setTimeout(()=>this.dismiss(),3e3))})}message=null;timeout;getIcon(a){switch(a){case"success":return"check_circle";case"info":return"info";case"warn":return"warning";case"error":return"error";default:return"notifications"}}dismiss(){this.message=null}static \u0275fac=function(e){return new(e||n)(u(Me))};static \u0275cmp=x({type:n,selectors:[["app-snackbar"]],standalone:!0,features:[w],decls:1,vars:1,consts:[["class","snackbar",3,"ngClass",4,"ngIf"],[1,"snackbar",3,"ngClass"],[1,"icon"],[1,"text"],[1,"close-btn",3,"click"]],template:function(e,t){e&1&&_(0,Ep,8,3,"div",0),e&2&&h("ngIf",t.message)},dependencies:[se,wt,Pt,ce],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.snackbar[_ngcontent-%COMP%]{position:fixed;top:80px;right:24px;padding:12px 20px;border-radius:8px;background-color:#070501;color:#fff;font-size:14px;border:1px solid rgba(133,132,132,.2);box-shadow:0 2px 10px #85848433;opacity:.95;display:flex;align-items:center;gap:12px;z-index:9999;min-width:300px}.snackbar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px}.snackbar[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.snackbar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;padding:0;display:flex;align-items:center}.snackbar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.snackbar.success[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#66bb6a}.snackbar.info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#29b6f6}.snackbar.warn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#ffca28}.snackbar.error[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#ef5350}"]})};function Ap(n,a){n&1&&(r(0,"header",1),y(1,"app-navigation"),s())}function Fp(n,a){n&1&&(r(0,"footer",3),y(1,"app-footer"),s())}var Yn=class n{title="streambase";hideHeaderFooter=S(!1);userSub;viewportScroller=C(eo);authService=C(H);themeService=C(Oi);router=C(K);route=C(ii);userService=C(Dt);banCheckService=C(uo);constructor(){}ngOnInit(){this.themeService.initTheme(),this.router.events.pipe(Te(a=>a instanceof ro),Di(()=>this.route),Di(a=>{for(;a.firstChild;)a=a.firstChild;return a}),Ra(a=>a.data)).subscribe(a=>{this.hideHeaderFooter.set(a.hideHeaderFooter??!1),this.hideHeaderFooter()?document.documentElement.style.setProperty("--content-margin-top","0px"):document.documentElement.style.setProperty("--content-margin-top","64px"),this.viewportScroller.scrollToPosition([0,0])}),this.userSub=this.authService.user$.subscribe(a=>{a&&(this.userService.fetchUserData().subscribe({}),this.banCheckService.start(a))})}ngOnDestroy(){this.userSub.unsubscribe(),this.banCheckService.stop()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-root"]],standalone:!0,features:[w],decls:6,vars:2,consts:[[1,"app-layout"],[1,"app-header"],[1,"app-content"],[1,"app-footer"]],template:function(e,t){e&1&&(r(0,"div",0),_(1,Ap,2,0,"header",1),r(2,"main",2),y(3,"router-outlet")(4,"app-snackbar"),s(),_(5,Fp,2,0,"footer",3),s()),e&2&&(l(),v(t.hideHeaderFooter()?-1:1),l(4),v(t.hideHeaderFooter()?-1:5))},dependencies:[so,zn,Hn,Un],styles:[".dark-theme[_ngcontent-%COMP%]{--primary-color: #000000;--secondary-color: #FEB508;--background-color: #070501;--surface-color: #1e1e1e;--text-primary: #ffffff;--text-secondary: rgb(255, 255, 255);--error-color: #d30808;--success-color: #08920c}.dark-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#000;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.dark-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#000}.dark-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.dark-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.light-theme[_ngcontent-%COMP%]{--primary-color: #ffffff;--secondary-color: #f5c518;--background-color: #f5f5f5;--surface-color: #ffffff;--text-primary: rgba(0, 0, 0, .87);--text-secondary: rgba(0, 0, 0, .6);--error-color: #b00020;--success-color: #4caf50}.light-theme[_ngcontent-%COMP%]   .mat-toolbar.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-icon-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#feb508}.light-theme[_ngcontent-%COMP%]   .mat-raised-button.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-fab.mat-primary[_ngcontent-%COMP%], .light-theme[_ngcontent-%COMP%]   .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#feb508;color:#fff}.light-theme[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#000000de}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0000000a}.light-theme[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.app-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background-color:#070501;color:#fff}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;height:64px;display:flex;justify-content:space-between;align-items:center;background-color:#070501;box-shadow:0 2px 4px #0000001a}.app-content[_ngcontent-%COMP%]{flex:1;padding:0;overflow-y:auto;overflow-x:hidden;margin-top:var(--content-margin-top, 64px)}.app-footer[_ngcontent-%COMP%]{padding:12px;width:70%;margin:20px auto 0}"]})};ao(Yn,ss).catch(n=>console.error(n));
